thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
54742613,54742613,null,1,0,Mon Feb 18 07:52:00 EST 2019,11077696,"<p>I am currently looking for a way to revoke the device session of a device that is connected to the Azure Iot Hub.</p>		<p>For example, when a device connects using a certificate and the certificate expires, the device can still send and receive data while it has a valid token.</p>		<p>Our case is if a device overloads our IoT Hub for whatever reason, we would like to be able to revoke the connection immediately.	We want to be able to revoke such token in order to immediately disconnect a certain device.</p>		<p>Is it even possible to do so? If not, are there workarounds for that?</p>	"
54742613,54744406,54742613,2,1,Mon Feb 18 09:48:00 EST 2019,1537195,"<p>You can disable a device to connect to the IoT Hub. I just tried this with a simulated device (using the .NET SDK) that was actively sending data. After I turned the switch to Disabled, the connection broke off after a few seconds. This was using the device key, not certificates but I would assume this might work as well.</p>		<p><a href="https://i.stack.imgur.com/FBuQO.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/FBuQO.png" alt="enter image description here"></a></p>	"
54742613,54744728,54742613,2,0,Mon Feb 18 10:06:00 EST 2019,8084828,"<p>There is no such as the REST API in the Azure IoT Hub to disconnect connected device. However the following workarounds can help it:</p>		<ol>	<li><p>Based on the MQTT Device protocol, only one device with the same ID can be connected to the Azure IoT Hub, so connecting the same device (simulated the same ID) will automatically disconnect a connected one. This workaround doesn't require any change in the device code. You can test it using a tools such as <em>MQTTBox</em>, <em>MQTT.fx</em>, etc.</p></li>	<li><p>This workaround is based on <a href="https://docs.microsoft.com/en-us/rest/api/iothub/service/invokedevicemethod" rel="nofollow noreferrer">invoking a device method</a> to perform closing a device from the device side. You can create a job for Azure IoT Hub background process to "invoke device method". Note, that this workaround needs to built this feature into the device code. 	Also, using a notification event on the twin desired property change received by device side can be used for your workaround to perform a closing or re-connecting connection with an Azure IoT Hub.</p></li>	</ol>		<p><strong>Edit:</strong></p>		<ol start="3">	<li>Like @silent answered, changing the state Enable to Disable, the device is going automatically disconnect from the Azure IoT Hub. You can use a <a href="https://docs.microsoft.com/en-us/rest/api/iothub/service/createorupdatedevice" rel="nofollow noreferrer">REST API</a> to change this status.  </li>	</ol>		<p>I do recommend to built in the device some retrying policy for re-connecting a device to the Azure IoT Hub based on the disconnecting reason such as connection lost, user disconnected, etc. </p>	"
