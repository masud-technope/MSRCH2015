thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
54157738,54157738,null,1,1,Sat Jan 12 07:53:00 EST 2019,9238279,"<p>I was successful in connecting the Raspberry Pi to the Cloud IoT and was able to toggle the device easily. But after a while, the device, according to me, times out of the connection, and shows "('on_disconnect', '1: Out of memory.')" and the connect status is set to False. So I reinstalled the git packages(the community folder) and repeated the same steps and I was successful again. But, obviously, the same error raised after a while. I can't seem to narrow it down to what is causing the issue. I am new here, so let me know if I should add anymore information.</p>		<p>EDIT: Since I was trying to narrow it down, I found out that re-running the "export GOOGLE_CLOUD_PROJECT=your-project-id-123" command when the above problem occurs, help me to establish connection properly(without changing anything). Although this doesn't stop the "Out of memory" issue, it's something to work with for now.</p>		<p>EDIT: <a href="https://github.com/GoogleCloudPlatform/community/tree/master/tutorials/cloud-iot-gateways-rpi" rel="nofollow noreferrer">https://github.com/GoogleCloudPlatform/community/tree/master/tutorials/cloud-iot-gateways-rpi</a> 	Link to the folder</p>	"
54157738,95155973,54157738,3,1,Sat Jan 12 19:22:00 EST 2019,429063,"That sounds like a memory leak, where an allocated resource is not freed, and after enough cycles those unfreed allocations take up all the available memory.  But **without the code at issue being present in your question**, this is more of an end-user problem that would be off-topic here, than an on-topic program bug the SO community could help you debug."
54157738,54485699,54157738,2,0,Fri Feb 01 19:03:00 EST 2019,9932532,"<p>I helped the author of this question resolve this issue on another platform, but I'm reposting the solution for reference.</p>		<p>The issue is that the JWTs that were generated in the tutorial the OP was following expires after about an hour and also did not include the code to refresh the token once expired. For more information about creating and refreshing JWTs, see <a href="https://cloud.google.com/iot/docs/how-tos/credentials/jwts#iot-core-jwt-python" rel="nofollow noreferrer">here</a>.</p>		<p>edit: Upon request, adding code snippet for refreshing jwts. In this case, <code>get_client</code> creates the MQTT connection which also handles creating the JWT. This assumes that the JWT expires after 60 minutes, but in Cloud IoT Core, JWTs can be valid for as long as 24 hours.</p>		<pre><code>seconds_since_issue = (datetime.datetime.utcnow() - jwt_iat).seconds	if seconds_since_issue &gt; 60 * jwt_exp_mins:	    print('Refreshing token after {}s').format(seconds_since_issue)	    jwt_iat = datetime.datetime.utcnow()	    client = get_client(	        args.project_id, args.cloud_region,	        args.registry_id, args.device_id, args.private_key_file,	        args.algorithm, args.ca_certs, args.mqtt_bridge_hostname,	        args.mqtt_bridge_port)	</code></pre>	"
54157738,95780225,54485699,3,1,Fri Feb 01 20:32:00 EST 2019,504554,"Please copy some more of the answer to here (e.g. a code snippet to refresh tokens), as at the moment this is basically a link only answer that will be useless if the link breaks"
54157738,55970640,54157738,2,1,Fri May 03 13:17:00 EDT 2019,916382,"<p>For anyone coming here when trying out the <a href="https://github.com/GoogleCloudPlatform/python-docs-samples/tree/master/iot/api-client/mqtt_example" rel="nofollow noreferrer">MQTT example</a></p>		<p>The issue in my case was that I simply forgot to properly set the <code>--project</code> flag in the CLI example, which resolved the project name to <code>None</code> which apparently gives this cryptic error upstream. So you might want to check that your project is set properly. The same goes for region by the way, which may result in refused connections.</p>	"
