thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
54609955,54609955,null,1,0,Sat Feb 09 19:32:00 EST 2019,10966280,"<p>Publusher sends a message <code>-m "hello"</code> to the topic <code>-t hello</code> using the command <code>mosquitto_pub -h 172.17.*.* -t hello -m "hello" -d</code>. The subscriber sees the message <code>-m "hello"</code> only if the connection to the topic <code>-t hello</code> is active. However, if the subscriber is not subscribed to the <code>-t hello</code> topic and the publisher still sends messages on the <code>-t hello</code> topic, then when you try to subscribe to this topic <code>mosquitto_sub -h 172.17. *. * -t hello</code> subscriber does not receive sent messages from publisher. </p>		<p>After reading the documentation, breaking a couple of brokers, I achieved only the fact that you can see the last message if you put the flag on the publisher <code>-r</code> like this - <code>-mosquitto_pub -h 172.17. *. * -r -t hello -m "hello"</code>. I configured <code>mosquitto.conf</code>, because I thought that the main changes, an example of the current problem, can only be achieved through it.</p>		<p><strong>How can I solve such a problem, I would like to see all missed messages from publisher when i resubscribe to the topic?</strong></p>	"
54609955,54610285,54609955,2,1,Sat Feb 09 20:11:00 EST 2019,504554,"<p>You need to use the <a href="https://www.hivemq.com/blog/mqtt-essentials-part-6-mqtt-quality-of-service-levels/" rel="nofollow noreferrer">QOS</a> (Quality of Service) values for the messages. By default QOS is set to 0 which is basically fire and forget, QOS 1 is ensure delivery (but could mean delivered more than once). QOS 2 is ensured delivery only once.</p>		<p>It's needs pointing out that QOS is between 1 client and the broker, so this can be between the publisher and the broker, or the broker and a subscriber independently. (e.g. you can publish at QOS 0 and then subscribe to the topic at QOS 2).</p>		<p>For message queuing for offline clients, the client needs to have been subscribed at QOS 1 or QOS 2 and when it reconnects it needs to have it's cleanSession flag set to <code>false</code> and use the same client id.</p>		<p>MQTT brokers will not queue messages for clients that have never connected before.</p>		<p>With <a href="https://mosquitto.org/man/mosquitto_sub-1.html" rel="nofollow noreferrer">mosquitto_sub</a> and <a href="https://mosquitto.org/man/mosquitto_pub-1.html" rel="nofollow noreferrer">mosquitto_pub</a> you can set the QOS level with <code>-q</code> option and you can set the client id with the <code>-i</code> option. To set the clean session flag to false for mosquitto_sub you should use the <code>-c</code> option</p>	"
54609955,96015685,54610285,3,0,Sat Feb 09 20:44:00 EST 2019,10966280,"hardillb, thanks a lot, although i haven't tried these methods yet. And one question for u - I need to configure mosquitto.conf for this problem or its just solution on the level of  mosquitto_sub and  mosquitto_pub?"
54609955,96015704,54610285,3,0,Sat Feb 09 20:45:00 EST 2019,504554,"It depends, if you want queued messages to survive a broker restart then you need to make sure the mosquitto has persistence enabled"
54609955,96015783,54610285,3,0,Sat Feb 09 20:50:00 EST 2019,10966280,"ok, i'll try it soon and give u feedback along with the "finally_right_answer" mark"
