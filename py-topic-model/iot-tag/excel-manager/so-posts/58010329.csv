thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
58010329,58010329,null,1,0,Thu Sep 19 11:48:00 EDT 2019,10778341,"<p>I'm building an Azure IoT Hub application. I have several customers. Do you think all those customers should be connected to the same hub or a different one(s)?</p>		<p>And if that's even possible, how would such multi-tenancy work so that the customers (tenants) wouldn't see each other's data on that same hub?</p>		<p>And finally, do you have to pay for each new IoT hub? (in which case maybe it's a good idea looking into sharing one between customers)</p>	"
58010329,102427717,58010329,3,0,Thu Sep 19 13:09:00 EDT 2019,932728,"It really depends on the data is processed and by what process. Pricing can be found the azure documentation site."
58010329,102427878,58010329,3,0,Thu Sep 19 13:13:00 EDT 2019,10778341,"I can't find any (good) documentation on how you would do this with many customers connected to a single Azure IoT Hub. Do you know of any?"
58010329,102427961,58010329,3,0,Thu Sep 19 13:15:00 EDT 2019,932728,"You could use the customer id as the partition key. But whether you really need to seperate them depends on what you are doing with the incoming data."
58010329,58032482,58010329,2,0,Fri Sep 20 16:58:00 EDT 2019,3246141,"<p>A single hub would suffice but then there should be provisions needed to make sure that you are not hitting the maximum allowed message in a hub as IoT Hub SKU size is defined on the number of messages <a href="https://docs.microsoft.com/en-in/azure/iot-hub/iot-hub-scaling?branch=release-iotbasic" rel="nofollow noreferrer">https://docs.microsoft.com/en-in/azure/iot-hub/iot-hub-scaling?branch=release-iotbasic</a></p>		<p>With single hub you need an almost near time throttling feature also in your application so that one rouge device won't eatup  the maximum message allowed for IotHub Unit.</p>		<blockquote>	  <p>"And if that's even possible, how would such multi-tenancy work so	  that the customers (tenants) wouldn't see each other's data on that	  same hub?"</p>	</blockquote>		<p>The message can have TenantId (please check <a href="https://azure.microsoft.com/en-in/blog/azure-iot-hub-message-enrichment-simplifies-downstream-processing-of-your-data/" rel="nofollow noreferrer">https://azure.microsoft.com/en-in/blog/azure-iot-hub-message-enrichment-simplifies-downstream-processing-of-your-data/</a>) which would differentiate messages from each tenant.The custom solution need to filter it based on the Tenantid or DeviceId which would be unique across every tenant in a IoTHub.You can have TenantId added in DeviceTwins once device is registered in IoTHub so that it would help identify Tenantid associated with the Device.</p>	"
58010329,102620149,58032482,3,0,Thu Sep 26 11:10:00 EDT 2019,10778341,"Anyone? ........"
58010329,102552473,58032482,3,0,Tue Sep 24 11:13:00 EDT 2019,10778341,"Thank you. My company needs me to build a management web site where you can see all the IoT devices, monitor their properties and set their properties. I don't envision any sending of messages. The devices will be able to send changes in the reported properties to the IoT Hub. So both the devices and my custom web will be changing the device twin properties and not really sending what I think IoT calls "messages". In that case, is it maybe best that all device twins have something like "customer" in their "tags". Is that enough to enable multi tenancy?"
