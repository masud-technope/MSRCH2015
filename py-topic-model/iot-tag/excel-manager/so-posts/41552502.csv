thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
41552502,41552502,null,1,5,Mon Jan 09 16:28:00 EST 2017,7395092,"<p>I have a board with an ESP8266 chip running Micropython firmware v1.8.7. My requirement is to use WebREPL via the University Wi-Fi, which uses WPA2 Enterprise EAP-MSCHAPv2 authentication. My Google-fu so far has informed me that Arduino users have been able to connect to WPA2 Enterprise EAP-TLS (certificate based authentication) (<a href="https://github.com/esp8266/Arduino/issues/1102" rel="nofollow noreferrer">link</a>) but not (SSID, username, pwd) networks. </p>		<p>All the threads I've seen so far on the subject seem to be from mid-2016 at the very latest, so I'm wondering whether someone's been able to figure out how to do this since then. I've never dabbled in network related stuff before (nor am I a great programmer), so all the big words above are pretty new to me. I thus have the following questions:</p>		<ol>	<li>Is this just an inherent limitation of the ESP8266? Or can it be done? <a href="https://www.reddit.com/r/esp8266/comments/406ur1/esp8266_wpa2_enterprise/#bottom-comments" rel="nofollow noreferrer">This discussion</a> seems to suggest it can be done but the capability needs to be coded in.</li>	<li>Is it possible to somehow branch out a WPA2 Personal connection from the WPA2 Enterprise that can be used by the ESP8266 as well as my PC? What I've tried so far is to attempt a hotspot using Connectify but there's been no luck there.</li>	</ol>		<p>I appreciate any help you guys can provide. If there's any relevant info I haven't included, please let me know and I'll edit it in.</p>		<p>Edit: @MaximilianGerhardt This is what works for me on a WPA2 Personal:</p>		<pre><code>import network	wlan = network.WLAN(network.STA_IF)	wlan.active(True)	wlan.connect('ssid','pwd')	wlan.ifconfig()		import webrepl	webrepl.start()	</code></pre>		<p>On a WPA2 Enterprise, I had hoped changing this line would work, but no joy:</p>		<pre><code>wlan.connect('ssid',auth=WPA2_ENT,'user','pwd')	</code></pre>		<p>Thanks, I'll look into the Espressif Non-OS SDK V2.0.0 and see if I can make it work.</p>	"
41552502,70315897,41552502,3,0,Mon Jan 09 19:21:00 EST 2017,5296568,"The code at the `esp8266-eduroam` project (https://github.com/joostd/esp8266-eduroam/blob/master/wpa2e-v20/user/user_main.c) and the 22-days old comment at https://github.com/esp8266/Arduino/issues/1032#issuecomment-267809940 suggests it might be possible with the newest 2.0 espressif SDK (`wifi_station_set_enterprise_username()` and `wifi_station_set_enterprise_password()`). What code have you tried yet ?"
41552502,72166026,41552502,3,0,Tue Feb 28 16:49:00 EST 2017,284795,"Please vote for the feature request at https://github.com/micropython/micropython/issues/2778"
41552502,72172837,41552502,3,0,Tue Feb 28 20:18:00 EST 2017,7395092,"@ColonelPanic I was the one who opened issue 2778 :)"
41552502,41555772,41552502,2,3,Mon Jan 09 19:48:00 EST 2017,5296568,"<p>As I linked in the comments the problem has apparently been solved in the newest 2.0 Espressif SDK. But since you're not using the Espressif C SDK, but the python "Micropython" firmware, this change has not been yet propagated into this python firmware. </p>		<p>You can see the mapping of the network functions (<code>active()</code>, <code>connect()</code>, <code>ifconfig()</code> etc) in the firmware here: <a href="https://github.com/micropython/micropython/blob/master/esp8266/modnetwork.c#L430" rel="nofollow noreferrer">https://github.com/micropython/micropython/blob/master/esp8266/modnetwork.c#L430</a>. In line 115 you can also see the call to <code>wifi_station_connect()</code>, which is a native Espressif-SDK function. Thus you'll see, the firmware doesn't yet make use of the new functions for WPA2 authentication. In <a href="https://github.com/micropython/micropython/blob/52df2f889e3315a4ced5a81e80efbb138182cd1b/esp8266/modnetwork.c#L490" rel="nofollow noreferrer">line 490</a> you can see all the available options for authentication:</p>		<pre><code>MP_OBJ_NEW_SMALL_INT(AUTH_OPEN) ,	MP_OBJ_NEW_SMALL_INT(AUTH_WEP) ,	MP_OBJ_NEW_SMALL_INT(AUTH_WPA_PSK) ,	MP_OBJ_NEW_SMALL_INT(AUTH_WPA2_PSK) ,	MP_OBJ_NEW_SMALL_INT(AUTH_WPA_WPA2_PSK)	</code></pre>		<p>WPA2 enterprise authentication is not yet one of them.</p>		<p>So now I'd say your options are:</p>		<ol>	<li>Open a github issue <a href="https://github.com/micropython/micropython/" rel="nofollow noreferrer">https://github.com/micropython/micropython/</a> in which you ask them to implement WPA2 authentication for the ESP8266</li>	<li>Switch to the C SDK from Espressif</li>	</ol>	"
41552502,70318745,41555772,3,0,Mon Jan 09 20:52:00 EST 2017,7395092,"Thanks for the confirmation! I've opened an issue on Github.  I will first try asking the university for an alternate WPA2 PSK connection if possible. If not, I suppose I'll have to use the Espressif SDK. I've upvoted your answer and accepted it, but since this is my first ever question on SO, my rep is not high enough to reflect it publicly. Thanks again!"
