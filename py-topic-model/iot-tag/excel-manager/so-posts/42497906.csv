thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
42497906,42497906,null,1,0,Mon Feb 27 23:50:00 EST 2017,5679985,"<p>I'm trying out some beginner Arduino programming. </p>		<p>The task is to make the board I have (ESP8266) play some music and then the music should stop when I press the button, and then restart when I press it again.</p>		<p>Here's my code,</p>		<pre><code>#include "pitches.h" // contains frequencies for notes	#define PIN_BUTTON 0 // the button	#define PIN_BUZZER 13 // the digital pin the Buzzer is attached to		bool stop = false; // button pressed		void play_note(int freq){	    if (freq &gt; 0 &amp;&amp; !stop){	      analogWrite(PIN_BUZZER, 512);	      analogWriteFreq(freq);	    } else {	      analogWrite(PIN_BUZZER, 0);	    }	}		void stopMusic(){	  stop = !stop;	  play_note(0);	}		void setup() {	  pinMode(PIN_BUZZER, OUTPUT);	  pinMode(PIN_BUTTON, INPUT_PULLUP);	  attachInterrupt(digitalPinToInterrupt(PIN_BUTTON), stopMusic, RISING);	}		void loop() {		  // intro	  play_note(NOTE_E7);	  delay(110);	  play_note(NOTE_E7);	  delay(220);	  play_note(NOTE_E7);	  delay(220);	  play_note(NOTE_C7);	  delay(110);	  play_note(NOTE_E7);	  delay(220);	  play_note(NOTE_G7);	  delay(440);	  play_note(NOTE_G6);	  delay(440);	}	</code></pre>		<p>The problem is, that the button is being inconsistent. Sometimes, on pressing it, the music will immediately stop. Other times, it will keep playing and I'll have to press it once or twice more. Similarly, when I want the music to start again, it will sometimes start as soon as I press the button, but other times I will need to press it twice or more to get the music back up. I don't know whats causing this. Suggestions?</p>	"
42497906,72134993,42497906,3,0,Mon Feb 27 23:54:00 EST 2017,4774918,"Arduino is not C."
42497906,42497965,42497906,2,0,Mon Feb 27 23:56:00 EST 2017,7276783,"<p>You should probably add some debounce logic to your code. 	<a href="https://www.arduino.cc/en/Tutorial/Debounce" rel="nofollow noreferrer">https://www.arduino.cc/en/Tutorial/Debounce</a></p>	"
42497906,42497973,42497906,2,2,Mon Feb 27 23:57:00 EST 2017,4774918,"<p>The button is most likely a mechanical one. They bounce, i.e. open and close the contacts after a press or release for a short time. You have to wait until the button has settled (typically 5-20ms, actual value depends on the button and should be specified in the datasheet) before you check for a new value.</p>		<p>This is called de-bouncing.</p>		<p>Alternatively you can check the button from a periodic timer interrupt. But that would degrade reaction time.</p>	"
