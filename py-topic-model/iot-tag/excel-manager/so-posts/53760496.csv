thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
53760496,53760496,null,1,1,Thu Dec 13 11:08:00 EST 2018,1620826,"<p>I generate an IoT Data Stream and send it to the AWS IoT Core.	I have a DynamoDB with 4 columns: <code>id</code>, <code>timestamp</code>, <code>data1</code> and <code>data2</code>. <code>data1</code> is a String, <code>data2</code> is a Map (of Data).</p>		<p>Then I created an Action. Via SQL I grab all the fields on the IoT Stream, but when I choose "Insert to DB", I only have 2 fields and the option to write ALL Data in one column.</p>		<p><a href="https://i.stack.imgur.com/JNVHk.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/JNVHk.png" alt="Screenshot"></a></p>		<p>Is it possible to write one of the data in "Prg" to its own field?	Do I have to create a Lambda Function, get the Data out of the Map and write it to DynamoDB back split? Hope there is a better way :).</p>	"
53760496,53878371,53760496,2,1,Fri Dec 21 02:15:00 EST 2018,3083468,"<p>Use the DynamoDB v2 action. The result of the SELECT statement is the object that is written into the DynamoDB table. You must include the partition key (and sort key if applicable) in the object.</p>		<p>You probably need a select statement similar to this:</p>		<pre><code>SELECT Device as id, timestamp() as timestamp, data1 as data1, Prg as data2 	FROM 'your/topic/here'	</code></pre>		<p>Also, remember that one of the attributes from the payload must have the same name as the primary partition key of the target table. From the <a href="https://docs.aws.amazon.com/iot/latest/developerguide/iot-rule-actions.html#dynamodb-v2-rule" rel="nofollow noreferrer">DynamoDB docs</a>:</p>		<blockquote>	  <p>The MQTT message payload must contain a root-level key that matches the table's primary partition key and a root-level key that matches the table's primary sort key, if one is defined.</p>	</blockquote>	"
53760496,94619064,53878371,3,0,Fri Dec 21 14:19:00 EST 2018,1620826,"okay, i'll try it :) thank you"
