thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
43763602,43763602,null,1,0,Wed May 03 14:57:00 EDT 2017,1535387,"<p>I have following code that is running for detecting CO2 level. 	Below are some of the information about the models. </p>		<p>CO2 sensor - K30 	Raspberry Pi 3 </p>		<p>I have done connections between pi and k-30 as per below document 	<a href="http://www.co2meters.com/Documentation/AppNotes/AN137-K30-sensor-raspberry-pi-uart.pdf" rel="nofollow noreferrer">http://www.co2meters.com/Documentation/AppNotes/AN137-K30-sensor-raspberry-pi-uart.pdf</a></p>		<p>Below is my python code </p>		<pre><code>import serial	import time	ser = serial.Serial("/dev/ttyS0",baudrate =9600,timeout = .5)	print " AN-137: Raspberry Pi3 to K-30 Via UART\n"	ser.flushInput()	time.sleep(1)	for i in range(1,21):		    ser.flushInput()	    time.sleep(1)	    ser.write("\xFE\x44\x00\x08\x02\x9F\x25")	    time.sleep(1)	    resp = ser.read(7)		    high = ord(resp[3])	    low = ord(resp[4])	    co2 = (high*256) + low	    print "i = ",i, " CO2 = " +str(co2)	    time.sleep(.5)	</code></pre>		<p>I am not getting consistent output. </p>		<p>I am getting something below </p>		<pre><code>pi@raspberrypi:~/i2c $ sudo python test-co2.py 	AN-137: Raspberry Pi3 to K-30 Via UART		i =  1  CO2 = 2458	i =  2  CO2 = 2457	i =  3  CO2 = 2448	Traceback (most recent call last):	File "test-co2.py", line 16, in &lt;module&gt;	    high = ord(resp[3])	IndexError: string index out of range	pi@raspberrypi:~/i2c $ sudo python test-co2.py 	AN-137: Raspberry Pi3 to K-30 Via UART		i =  1  CO2 = 2207	Traceback (most recent call last):	File "test-co2.py", line 16, in &lt;module&gt;	   high = ord(resp[3])	IndexError: string index out of range	pi@raspberrypi:~/i2c $	</code></pre>		<p>Appreciate any help ?</p>	"
43763602,74568857,43763602,3,0,Wed May 03 15:06:00 EDT 2017,3000206,"You should probably check the result contents before indexing it. Evidently there are less result columns then you're expecting."
43763602,46243652,43763602,2,0,Fri Sep 15 16:05:00 EDT 2017,8615744,"<blockquote>	  <p>high = ord(resp[3])</p>	  	  <p>IndexError: string index out of range</p>	</blockquote>		<p>This means the length of the string <code>resp</code> is 0 for that particular call and the code is trying to point to the 3rd element of the string. That's why you get an index out of range. </p>		<p>If you try to see the <code>len(rep)</code> in every iteration you will get 0 for that particular iteration where the error occurs but as you are having the data in the beginning that means you are at least able to read your serial port.</p>		<p>It's possible the problem lies with the loose connection of the supply/gnd or even RX/TX pins of the sensors. </p>		<p>Can you share what exactly did you do to get data from the serial port of PI3 or try doing: sudo chmod g+r /dev/ttyS0?</p>	"
43763602,79456884,46243652,3,0,Fri Sep 15 19:30:00 EDT 2017,5292302,"This is 1/2 answer and 1/2 question, please pass only answer, if you need to ask another question you the [ask] interface."
