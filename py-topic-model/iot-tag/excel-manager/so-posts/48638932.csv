thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
48638932,48638932,null,1,0,Tue Feb 06 08:53:00 EST 2018,9050798,"<p>I have LoRa sensors which send measures with Cayenne LPP format payload.	My Gateway(LOrank8v1) catches these packets and converts them to UDP.	In the gateway there is a service(lora-gateway-bridge) which converts the packets from UDP to TCP/MQTT.</p>		<p>Then the MQTT packets are published to the mosquitto MQTT broker in the cloud.	Then i run lora-server and lora-app-server services in order to decrypt,decode and deduplicate the packets.</p>		<p>Then i publish the decrypted information to the MQTT broker again.	Here is an example of a publication after all these operations:	application/1/node/0000000000000000/rx </p>		<pre><code>{	 "applicationID":"1",	  "applicationName":"Temperature-Humidity",	  "deviceName":"Temperature-Humidity",	  "devEUI":"0000000000000  000",	  "rxInfo":[	    {	      "mac":"1dee18c14948a955",	      "rssi":-27,	      "loRaSNR":9.5,	      "name":"1dee18  c14948a955",	      "latitude":0,	      "longitude":0,	      "altitude":0	    }	  ],	  "txInfo": {	    "frequency":8685  00000,	    "dataRate": {	      "modulation":"LORA",	      "bandwidth":125,	      "spreadFactor":9	    },	    "adr":false,	    "codeRate":"4/5"	  },	  "fCnt":2,	  "fPort":1,	  "data":"AGcAxQFojA==",	  "object": {	    "temperatureSensor": {	      "0":19.7	    },	    "humiditySensor": {	      "1":70	    }	  }	}	</code></pre>		<p>Now i want to use Fiware's JSON/MQTT IOT agent to convert MQTT to NGSI in order to publish data to the Context Broker. </p>		<p>The data should be publised like this to be readable :</p>		<pre><code>$ mosquitto_pub -h $HOST_IOTAGENT_MQTT -u theUser -P thePassword -t /myapikey/mydevicemqtt/attrs -m '{ "t": 19,7, "h": 70}'	</code></pre>		<p>Has anyone the same problem?	Should i make a JSON parser and republish the data to another format into the MQTT Broker?	How could i deal with this problem?</p>	"
48638932,94768600,48638932,3,0,Fri Dec 28 23:23:00 EST 2018,436183,"why not simply send the cayenne LPP hex format directly on the MQTT broker? then the consumer of that topic handles the decoding."
48638932,48644088,48638932,2,0,Tue Feb 06 13:21:00 EST 2018,2863113,"<p>I dont know if I understood correctly your problem. Your steps are ok, you need something to translate from  Cayenne LPP to the JSON format expected by you selected agent. Of course, you first need to register your device through the agent, and in this step, you define the different parameters that would be provided by your device (this will configure how you will have to send your json message).</p>		<p><a href="https://github.com/telefonicaid/iotagent-json/blob/master/docs/stepbystep.md#provisioning-the-device" rel="nofollow noreferrer">https://github.com/telefonicaid/iotagent-json/blob/master/docs/stepbystep.md#provisioning-the-device</a></p>		<p>This translation from Cayene to the "special-json-expected-by-the-agent" is a "non-desirable" step. Because you are doing cayene->json->NGSI (but I am not sure if there are other options). We are studying the possibility of creating a new agent capable of understanding Cayene format, but it is still very early, and I am not sure if MQTT will be the selected transport protocol. Also, the lora-networ-server would also related to the composed JSON based on Cayene, so... this would make the task more complicated... lets see...</p>	"
48638932,84289264,48644088,3,0,Tue Feb 06 15:06:00 EST 2018,9050798,"I have already translate Cayenne Lpp to JSON as you can see.Now i try to make a json parser and republish into the mqtt broker the json data as the iot agent needs."
