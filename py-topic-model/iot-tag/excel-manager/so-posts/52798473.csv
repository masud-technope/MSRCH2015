thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
52798473,52798473,null,1,0,Sun Oct 14 00:24:00 EDT 2018,1786363,"<p>This is my scenario:</p>		<p>I created <a href="https://i.stack.imgur.com/7WpIQ.png" rel="nofollow noreferrer">My User Pool</a> and <a href="https://i.stack.imgur.com/0Rj7H.png" rel="nofollow noreferrer">My Identity Pool</a>, then I linked to each other <a href="https://i.stack.imgur.com/HGwAf.png" rel="nofollow noreferrer">like this</a></p>		<p>After that I followed this tutorial (<a href="https://docs.aws.amazon.com/cognito/latest/developerguide/tutorial-integrating-user-pools-javascript.html" rel="nofollow noreferrer">https://docs.aws.amazon.com/cognito/latest/developerguide/tutorial-integrating-user-pools-javascript.html</a>)</p>		<pre><code>var poolData = { 	    UserPoolId : 'us-east-2_{my_user_pool_id}',	    ClientId : '{user_pool_client_id}'	};	var userPool =  new AmazonCognitoIdentity.CognitoUserPool(poolData);		var userData = {	    Username : 'user_name',	    Pool : userPool	};		var authenticationData = {	    Username : 'user_name', // your username here	    Password : 'password', // your password here	};	var authenticationDetails = new AmazonCognitoIdentity.AuthenticationDetails(authenticationData);	var cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData);		cognitoUser.authenticateUser(authenticationDetails, {	    onSuccess: function (result) {	        var accessToken = result.getIdToken().getJwtToken();	        AWS.config.credentials = new AWS.CognitoIdentityCredentials({	            IdentityPoolId: 'us-east-2:{my_identity_pool_id}',	            Logins: {	                'cognito-idp.us-east-2.amazonaws.com/us-east-2_{my_user_pool_id}': accessToken	            }	        });		        AWS.config.credentials.get(function(err){	            if (err) {	                alert(err);	            }		            window.mqttClient.updateWebSocketCredentials(AWS.config.credentials.AccessKeyId, 	                AWS.config.credentials.SecretKey, 	                AWS.config.credentials.SessionToken);	        });	    },		    onFailure: function(err) {	        alert(err);	    },	    mfaRequired: function(codeDeliveryDetails) {	        var verificationCode = prompt('Please input verification code' ,'');	        cognitoUser.sendMFACode(verificationCode, this);	    }	});		const mqttClient = AWSIoTData.device({	    region: AWS.config.region,	    host: AWSConfiguration.host,	    clientId: clientId,	    protocol: 'wss',	    maximumReconnectTimeMs: 8000,	    debug: true,	    accessKeyId: '',	    secretKey: '',	    sessionToken: ''	});	</code></pre>		<p>I enabled the CloudWatch log and got this log:</p>		<p><code>2018-10-13 21:55:09.890 TRACEID:xxxx-xxx-xxxx-xxxx-xxxxxxxxx PRINCIPALID:XXXXXXXXXXX:CognitoIdentityCredentials [ERROR] EVENT:MQTT Client Connect MESSAGE:Connect Status: AUTHORIZATION_ERROR Failure reason:AUTHORIZATION_FAILURE	</code></p>		<p>Why I can't access aws resources with mqtt after catch the credentials in cognito <code>AWS.config.credentials.get</code>? </p>	"
