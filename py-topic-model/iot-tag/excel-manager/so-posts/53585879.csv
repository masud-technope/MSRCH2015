thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
53585879,53585879,null,1,1,Mon Dec 03 00:10:00 EST 2018,9698660,"<p>I have a Universal Windows App I created in visual studio 2017.  I have deployed this app on my raspberry Pi and it is running good.  I also have create a package using 2017.  I want to add an update button to my app and when pressed it would look for a USB stick and check for a file.  I it sees this file it will update the app just as if it was looking to the store to update.  This unit has no connection to the internet and is for internal use only.  But, I want to make sure that I can update these or give a USB stick with the update on it so a colleague can update it.</p>		<p>I have no idea how to do this or if it is possible.  Any assistance is greatly appreciated.</p>	"
53585879,53591416,53585879,2,1,Mon Dec 03 10:05:00 EST 2018,6601582,"<blockquote>	  <p>I want to add an update button to my app and when pressed it would	  look for a USB stick and check for a file.</p>	</blockquote>		<p>The <code>packagemanager.UpdatePackageAsync</code> API can help you do this in your UWP app and update itself.</p>		<p>But you can't simply "look for a USB stick and check for a file" like you can do on the desktop via FilePicker that not supported on Windows IoT Core. Here I show a sample to specify the file location and version then update it.</p>		<p>To use this API you need to add the <code>packageManagement</code> capability in Package.appxmanifest like the followings:</p>		<pre><code>...   	xmlns:rescap="http://schemas.microsoft.com/appx/manifest/foundation/windows10/restrictedcapabilities" 		IgnorableNamespaces="uap mp rescap"&gt;		...		  &lt;Capabilities&gt;	    &lt;rescap:Capability Name="packageManagement" /&gt;	  &lt;/Capabilities&gt;	</code></pre>		<p>There is a code sample you can reference:</p>		<p><strong>MainPage.xaml</strong></p>		<pre><code>&lt;StackPanel VerticalAlignment="Center"&gt;	    &lt;Button Content="Update" Click="Button_Click"/&gt;	    &lt;TextBox Name="NewVersion" PlaceholderText="For example: 1.0.5.0"/&gt;	    &lt;TextBox Name="PkgPath" PlaceholderText="For example: D:\AppUpdate"/&gt;	    &lt;TextBlock Text="Install result: " Name="Result" /&gt;	&lt;/StackPanel&gt;	</code></pre>		<p><strong>MainPage.xaml.cs</strong></p>		<pre><code>    private async void Button_Click(object sender, RoutedEventArgs e)	    {	        try	        {	            string versionNum = NewVersion.Text;	            string packagePath = PkgPath.Text; 	            string packageLocation = packagePath + @"\TestAppUpdate_" + versionNum + "_x86_x64_arm_Debug.appxbundle";	            PackageManager packagemanager = new PackageManager();	            await packagemanager.UpdatePackageAsync(new Uri(packageLocation), null, DeploymentOptions.ForceApplicationShutdown);	        }	        catch (Exception ex)	        {	            Result.Text = ex.Message;	        }	    }	</code></pre>		<p>The app will update and auto restart to the new version.</p>	"
53585879,94067256,53591416,3,0,Mon Dec 03 21:48:00 EST 2018,9698660,"OK, I had a chance to play with this.  I'm really close , I create my app bundle and it has a new version number.  I then copy the files to my USB drive and place it into the USB port of the Raspberry PI and I click my update button and I get the following message.   "The provided package is already installed, and reinstallation of the package was blocked""
53585879,94097524,53591416,3,0,Tue Dec 04 17:39:00 EST 2018,9698660,"Rita,  I wanted to get back to you on this.  I have it working, and I'm extremely thankful to you for your assistance.  I'm very new and sometimes I don't even know the proper things to google.  You quickly assisted me and pointed me to the right literature to assist me.  If I could vote I would help you out."
53585879,94107610,53591416,3,0,Wed Dec 05 01:01:00 EST 2018,6601582,"@PBSnake You're welcome. Glad to help."
53585879,94057572,53591416,3,0,Mon Dec 03 16:07:00 EST 2018,9698660,"Thank you for the detailed post.  Seems pretty straight forward, I will try this out later today or tomorrow and get back to you on the results.  Thanks again for your assistance on this its greatly appreciated."
53585879,94070775,53591416,3,0,Tue Dec 04 01:05:00 EST 2018,6601582,"@PBSnake The error indicates that you are installing the same version with currently running one. Increase app version and try again."
53585879,94070880,53591416,3,0,Tue Dec 04 01:11:00 EST 2018,6601582,"@PBSnake Note that if the currently running version is you deployed from VS2017 the update operation will fail due to the running app is unpackaged app so you can't update with packaged one. So make sure the running one is also installed with packaged appxbundle. I did this via device portal."
53585879,94072042,53591416,3,0,Tue Dec 04 02:37:00 EST 2018,9698660,"I did increase the version number several times.  I installed the version with the deploy option in visual studio.  What is the proper way to do it?"
53585879,94072545,53591416,3,0,Tue Dec 04 03:16:00 EST 2018,6601582,"@PBSnake The operation will fail if you want to update the app which deployed from Visual Studio. It can only update the app installed with packaged appxbundle. For example, you can install it via device portal, [here](https://docs.microsoft.com/en-us/windows/iot-core/develop-your-app/appinstaller#using-windows-device-portal) is a document you can reference."
53585879,94211091,53591416,3,0,Fri Dec 07 20:46:00 EST 2018,9698660,"Rita;  Sorry to bother you again but I figured you may have a quick answer.  Is there away to rollback to a previous version?  With what I have it wont let me.  I have it upgrading great but if for some reason they upgrade and there's problems that were missed I thought it would be nice to go back to last version until we can resolve it."
53585879,94252432,53591416,3,0,Mon Dec 10 02:05:00 EST 2018,6601582,"@PBSnake If you have previous version copy you have a try. Ref: ["Using version numbering to roll back to a previously-shipped package for new acquisitions"](https://docs.microsoft.com/en-us/windows/uwp/publish/package-version-numbering#using-version-numbering-to-roll-back-to-a-previously-shipped-package-for-new-acquisitions) and ["Is there a way for a customer of a UWP app to rollback to a previous version?"](https://stackoverflow.com/questions/35468127/is-there-a-way-for-a-customer-of-a-uwp-app-to-rollback-to-a-previous-version)"
53585879,102274379,53591416,3,0,Fri Sep 13 18:05:00 EDT 2019,9698660,"Rita;I'm back as you know I have this all working like a charm.  This is a industrial application and we only have one App and we never want IoT to update.  With that being said we turned the unified write filter on to clean up boot problems.  We would like to still have our app update from a usb stick.  I beleive I have all the exclusions added for the files.  However i think windows adds a couple of registry entries?  How could I find what they are so I could exclude them|"
