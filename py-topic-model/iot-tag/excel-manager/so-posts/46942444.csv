thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
46942444,46942444,null,1,0,Wed Oct 25 21:36:00 EDT 2017,5826301,"<p>I'm trying to get AWS IoT rules trigger my actions. But the documentation is pretty poor. For some reason documentation think i'll have json payloads with nesting level=1 top. 	Example of my JSON payload:</p>		<p><code>"state": {	    "reported": {	      "movement": "yes"	    }	  }	}</code></p>		<p>Query i'm using inside a rule 	<code>SELECT * FROM '$aws/things/thing-name/shadow/update/accepted' WHERE state.reported.movement="yes"</code></p>		<p>Documentation, i'm using: <a href="http://docs.aws.amazon.com/iot/latest/developerguide/iot-sql-where.html" rel="nofollow noreferrer">http://docs.aws.amazon.com/iot/latest/developerguide/iot-sql-where.html</a></p>		<p>has information just about flat JSON object, i did try to use state.reported.movement, reported.movement, just movement and looks like none of them works</p>	"
46942444,80930206,46942444,3,0,Sat Oct 28 16:15:00 EDT 2017,5826301,"Not sure why it didn't work two days ago, but apparently @MarkB was right. Today i did retest it and SNS topic start sending a messages (As a result of the rule i had an sns topic connected)."
46942444,80832576,46942444,3,0,Wed Oct 25 21:47:00 EDT 2017,13070,"This part of the documentation covers referencing nested JSON objects in IoT queries: http://docs.aws.amazon.com/iot/latest/developerguide/iot-sql-json.html Your select statement looks correct to me. What is the actual issue you are encountering? Do you have IoT service logging enabled and are you verifying that there aren't any errors showing up in that log? http://docs.aws.amazon.com/iot/latest/developerguide/cloud-watch-logs.html"
46942444,46991897,46942444,2,0,Sat Oct 28 16:22:00 EDT 2017,5826301,"<p>Okay, answer to my question is: AWS IoT Supports nested properties in WHERE statements. For some reason it didn't work when i did create a rule. Maybe SNS topic had some delay with delivering messages. </p>		<p>My state of the thing, coming to AWS IoT accepted topic looks like that:</p>		<pre><code>{	  "state": {	    "reported": {	      "system": "armed",	      "movement": "yes"	    }	  },	  "metadata": {	    "reported": {	      "system": {	        "timestamp": 1509207282	      },	      "movement": {	        "timestamp": 1509207282	      }	    }	  },	  "version": 618,	  "timestamp": 1509207282,	  "clientToken": "xxxxxxxx"	}	</code></pre>		<p>And to query that JSON i'm using following query:</p>		<pre><code>SELECT * FROM '$aws/things/myThing/shadow/update/accepted' WHERE state.reported.movement="yes" and state.reported.system="armed"	</code></pre>	"
