thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
48296716,48296716,null,1,1,Wed Jan 17 08:33:00 EST 2018,8052180,"<p>I'm starting a new project that involves some IoT devices sending every 5 minutes their status and other info to AWS IoT.</p>		<p>The structure of the message is the following:	<code>	{	    "SNC":"C_SN_15263217541",	    "STATUS":"enable",	    "PLANT":{	        "PNAME":"nomeimpianto",	        "DVS":{	            "SD":[{	                    "SDSN":"LD_SN_15263987543",	                    "TT":"30/11/17 4:37 PM",	                    "STATUS":"Enable",	                    "TON":"3sec",	                    "TOFF":"6min",	                    "QTAC":"125",	                    "ALCODE":"201",	                    "ALDESC":"assenza scarico"	                },	                {	                    "SDSN":"LD_SN_15263987543",	                    "TT":"30/11/17 4:39 PM",	                    "STATUS":"Enable",	                    "TON":"3sec",	                    "TOFF":"6min",	                    "QTAC":"125",	                    "ALCODE":"201",	                    "ALDESC":"assenza scarico"	                },<br>	                {	                    "SDSN":"LD_SN_15263997545",	                    "TT":"30/11/17 4:37 PM",	                    "STATUS":"Enable",	                    "TON":"3sec",	                    "TOFF":"6min",	                    "QTAC":"125"<br>	                },	                {	                    "SDSN":"LD_SN_15263997545",	                    "TT":"30/11/17 4:39 PM",	                    "STATUS":"Enable",	                    "TON":"3sec",	                    "TOFF":"6min",	                    "QTAC":"125"	                },<br>	                {	                    "SDSN":"LD_SN_15123987543",	                    "TT":"30/11/17 4:37 PM",	                    "STATUS":"Enable",	                    "TON":"3sec",	                    "TOFF":"6min",	                    "QTAC":"125"<br>	                },	                {	                    "SDSN":"LD_SN_15123987543",	                    "TT":"30/11/17 4:39 PM",	                    "STATUS":"Enable",	                    "TON":"3sec",	                    "TOFF":"6min",	                    "QTAC":"125"<br>	                }<br>	            ]	        }	    }	}	</code></p>		<p>I created a rule that inserts the message on DynamoDB, and it's working nicely, but I'd need to create, for each message received, one row for each item in <code>PLANT.DVS.SD</code>.</p>		<p>My DynamoDB table has as hashkey the field <code>PLANT.DVS.SD[x].SDSN</code> and as sort field <code>PLANT.DVS.SD[x].TT</code>.</p>		<p>I tried with a DynamoDBv2 rule and I managed only to create one row per message with the whole array, but it's not what I'm looking for.</p>		<p>So basically the problem is that I don't know how to structure the SQL statement in the rule definition.</p>		<p>I know that <code>PLANT.DVS.SD</code>'s max length is 12, so the only idea that I've got is to create 12 IoT rules that insert on DynamoDB only the element at a specific position. Although if there is a better way to solve this problem dynamically, it'd be appreciated!</p>	"
48296716,83591217,48296716,3,0,Wed Jan 17 14:21:00 EST 2018,8052180,"I'm not using any sdk for now (even though the project will be written in Javascript). All I'm doing now is configuring the IoT rule in the AWS IoT console to tell AWS what to do when it receives a message on the thing topic. My goal is to make the data I receive available in DynamoDB without the use of any Lambdas in order to optimize the costs. So basically my question is: Given the above message structure, How should I configure the `Rule query statement` in the IoT rules console to write the array `PLANT.DVS.SD` as multiple DynamoDB rows?"
48296716,83591245,48296716,3,0,Wed Jan 17 14:21:00 EST 2018,8052180,"My current situation in the `Rule query statement` is the following: `SELECT get(PLANT.DVS.SD, 0).SDSN as device, get(PLANT.DVS.SD, 0).TT as timestamp, get(PLANT.DVS.SD, 0).* AS VALUE FROM '$aws/things/_mything_/shadow/update` but I only write the first Item in the array because I used the get method that retrieves a specific item in the array (in my case the 0th)"
48296716,83585544,48296716,3,0,Wed Jan 17 11:56:00 EST 2018,4985580,"Please post your current method of parsing your event and putting your data into DynamoDB. What SDK are you using?"
