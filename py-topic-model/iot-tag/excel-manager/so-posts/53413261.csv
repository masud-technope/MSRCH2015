thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
53413261,53413261,null,1,-1,Wed Nov 21 13:35:00 EST 2018,10685640,"<p>I'm working on a home-automation project (IoT) where my websocket server is a subscriber to a MQTT broker. It gets temperature and light intensity data from microcontroller. In a nutshell, the data are saved as JSON data, then I'll have to save the log of all the received data in a file. I used <code>.writeFileSync()</code> but it only resulted in <code>[object Object]</code> and I have to edit the data.JSON manually before I can run my program because it'll give an error if I don't.</p>		<p>This is the script:</p>		<pre><code>var config = require('./data.json');		function writeData() {	    fs.writeFileSync('data.json', config);	}	</code></pre>		<p>Then I tried changing it into</p>		<pre><code>var config = require('./data.json');	let data2 = JSON.stringify(config);	function writeData() {	   fs.writeFileSync('data-2.json', data2);	}	</code></pre>		<p>but I can't find the file named <code>data-2.json</code>.</p>		<p>Please help.</p>		<p><strong><em>EDIT</em></strong></p>		<p>I've called the writeData() function on this part:</p>		<pre><code>    s.on('dev:on', function (id) {	    if (id == 'lamp1') {	        config.lamp1 = true;	    } else if (id == 'fan1') {	        config.fan1 = true;	    }	    client.publish(id, "true");	    writeData();	    console.log('Device ON RECEIVED for ' + id);	});	</code></pre>		<p>And the rest of the codes which follow are similar to this.</p>	"
53413261,93702540,53413261,3,0,Wed Nov 21 14:16:00 EST 2018,10685640,"@Eimantas thank you. I've tried the script that Sebastian suggested but I can't find data-2.json in the folder..."
53413261,93701216,53413261,3,0,Wed Nov 21 13:41:00 EST 2018,41761,"Not sure how `writeFileSync` works, but `data-2.json` should be in the same folder as the script itself. And _I believe_ the websocket server process should have `write` permission to that folder too."
53413261,93701258,53413261,3,0,Wed Nov 21 13:42:00 EST 2018,19068,"You defined `writeData` as a function but forgot to call it."
53413261,53413462,53413261,2,0,Wed Nov 21 13:44:00 EST 2018,6202655,"<p>This should work:</p>		<pre><code>const fs = require('fs');	let config = require('./data.json');		function writeData() {	    fs.writeFileSync('data-2.json', JSON.stringify(config));	}		writeData();	</code></pre>	"
53413261,93702461,53413462,3,0,Wed Nov 21 14:14:00 EST 2018,10685640,"thank you. I've edited my program to this but I'm still unable to find the data-2.json in the same folder as my script."
53413261,93703683,53413462,3,0,Wed Nov 21 14:50:00 EST 2018,6202655,"If you just run the script above, you should see your data. Just tested it. So the problem might be somewhere else."
