thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
29851888,29851888,null,1,3,Fri Apr 24 15:44:00 EDT 2015,4829252,"<p>For my home automation project (using a Raspberry Pi with an Apache server and a configuration webpage) I'm trying to save a checkbox's setting to a file on the server side, but I can't get it working in my situation.	Using php with fopen() and fwrite() I can store any string into a text file, that's no problem. The issue is that the form uses POST and I can't seem to figure out how to write my code in such a way that:</p>		<p>1) the checkbox itself is set to the value that is currently present in the text file ('remembering and retrieving' the setting);</p>		<p>2) the setting that was just set by the user is written to the file, which happens when the page loads (POST).</p>		<p>These actions seem to get in eachother's way because php is server side. If the page is refreshed or visited for the first time there's no problem, the problem exists in reloading the page after the form is submitted.	It doesn't really matter which method or language I use to save the checkbox's setting on the server side.</p>		<p>Which method could do the trick?</p>	"
29851888,29852013,29851888,2,1,Fri Apr 24 15:49:00 EDT 2015,4758990,"<p>Can you post the fopen(), fwrite() code? If you're sending a POST to that php page, then you can grab the message contained in your HTML element simliar to this:</p>		<pre><code>&lt;?php	$message = $_POST['textarea_value_name'];	...	</code></pre>	"
29851888,47830848,29852013,3,0,Fri Apr 24 16:15:00 EDT 2015,4829252,"Thank you. This is actually the method I'm using now. Retrieving the value isn't the problem, the problem lies in the logic and the order of which each step has to be taken."
29851888,29852134,29851888,2,2,Fri Apr 24 15:55:00 EDT 2015,3653756,"<p>You can set the file by doing something like this, assuming that the file only contains the value 1 or 0 if the checkbox should be set or not (call this script when submitting the form):</p>		<pre><code>if(isset($_POST["mycheckboxname"])){	   file_put_contents('file.txt', '1');	}	else{	   file_put_contents('file.txt', '0');	}	</code></pre>		<p>This is to put the checkbox in right format on screen. Use this when displaying the checkbox form.</p>		<pre><code>$checked = file_get_contents('file.txt');	echo '&lt;input type="checkbox" name="mycheckboxname" ';	if($checked=='1') echo 'checked ';	echo '/&gt;';	</code></pre>		<p>Be sure to set the right permissions when creating the file so that the PHP processor has write access to it.</p>	"
29851888,47830942,29852134,3,0,Fri Apr 24 16:18:00 EDT 2015,4829252,"Thanks, I tried your code but the problem persists. Writing the file is no problem, but when I refresh the page the checkbox is automatically set to unchecked because when the page is loaded, isset($POST["name"]) is not true."
29851888,47831008,29852134,3,0,Fri Apr 24 16:20:00 EDT 2015,3653756,"As I stated, you have to divide the code into two scripts. One that is executed when displaying the site and one that handles submitting of the file. The second one can e.g. forward the user back to the first one. Then it should work as intended."
29851888,47831542,29852134,3,0,Fri Apr 24 16:34:00 EDT 2015,4829252,"Ah! That was exactly the solution I needed, didn't even think about using a seperate script. Working like a charm now :) Thanks!"
