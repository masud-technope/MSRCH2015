thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
46003539,46003539,null,1,1,Fri Sep 01 15:28:00 EDT 2017,8028864,"<p>This is ESP8266 code to turn ON/OFF an LED. I'm using the Arduino IDE built-in example code. The LED is working properly but I want to send HTTP requests to my locally-hosted web site (which send emails) but it's not working.</p>		<ol>	<li>Connected with my local Wifi</li>	<li>Assigned a static IP</li>	<li>When I hit 192.168.1.101/gpio/1(Led ON)</li>	<li>When I hit 192.168.1.101/gpio/0(Led OFF) It's working but unable to hit my web site.</li>	<li>When I hit 192.168.1.101/gpio/1 then it should hit my locally-hosted URL (192.168.1.100/home/ardchk)</li>	</ol>		<p>Kindly help me to sort out this issue.</p>		<pre><code>#include &lt;ESP8266WiFi.h&gt;		const char* ssid = "SMART";	const char* password = "123456789";	const char* host = "192.168.1.100"; // Your domain	IPAddress ip(192, 168, 1, 101); // where xx is the desired IP Address	IPAddress gateway(192, 168, 1, 1); // set gateway to match your network	IPAddress subnet(255, 255, 255, 0);	WiFiServer server(80);		void setup() {	  Serial.begin(115200);	  delay(10);	  // prepare GPIO3	  pinMode(3, OUTPUT);	  digitalWrite(3, 0);	  // Connect to WiFi network	  Serial.println();	  Serial.println();	  Serial.print("Connecting to ");	  Serial.println(ssid);	  WiFi.config(ip,gateway,subnet);	  WiFi.begin(ssid, password);	  while (WiFi.status() != WL_CONNECTED) {	    delay(500);	    Serial.print(".");	  }	  Serial.println("");	  Serial.println("WiFi connected");	  // Start the server	  server.begin();	  Serial.println("Server started");	  // Print the IP address	  Serial.println(WiFi.localIP());	}		void loop() {	  // Check if a client has connected	  WiFiClient client = server.available();	  if (!client) {	    return;	  }	  // Wait until the client sends some data	  Serial.println("new client");	  while(!client.available()) {	    delay(1);	  }	  // Read the first line of the request	  String req = client.readStringUntil('\r');	  Serial.println(req);	  // Match the request	  int val;	  if (req.indexOf("/gpio/0") != -1) {	    val = 0;	    if (client.connect(host, 80)) {	      //starts client connection, checks for connection	      Serial.println("connected to website/server");	      client.println("GET /home/ardchk HTTP/1.1"); //Send data	      client.println("Host: 192.168.1.100");	      Serial.println("Email Sended");	      client.println("Connection: close");	      //close 1.1 persistent connection	      client.println(); //end of get request	    }	  } else if (req.indexOf("/gpio/1") != -1) {	    val = 1;	  } else {	    Serial.println("invalid request");	    client.stop();	    return;	  }	  // Set GPIO2 according to the request	  digitalWrite(3, val);	  client.flush();	  // Prepare the response	  String s = "HTTP/1.1 200 OK\r\nContent-Type: text/html\r\n\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html&gt;\r\nGPIO is now ";	  s += (val)?"high":"low";	  s += "&lt;/html&gt;\n";	  // Send the response to the client	  client.print(s);	  delay(1);	  Serial.println("Client disconnected");	  // The client will actually be disconnected	  // when the function returns and 'client' object is destroyed	}	</code></pre>	"
46003539,78986384,46003539,3,0,Sat Sep 02 11:12:00 EDT 2017,8028864,"The code block:                                                                                                 if (client.connect(host, 80))                                                      	  {This Code is Not Running Because Not Connect With Host}                          even Website is hosted on same network"
46003539,78971060,46003539,3,2,Fri Sep 01 17:10:00 EDT 2017,7699452,"Please explain what happens when you try to hit url. "Not working" is not clear"
46003539,78981536,46003539,3,1,Sat Sep 02 04:41:00 EDT 2017,1136195,"You need to learn to spell (capitalizing letters randomly doesn't count as proper spelling), and to indent your code properly. Fortunately the Arduino IDE does this for you: press ctrl-T..."
46003539,46056930,46003539,2,0,Tue Sep 05 14:01:00 EDT 2017,8436941,"<p>Based on your question/comment, I am assuming that <code>client.connect(host, 80)</code> is returning false.</p>		<p>I believe you are unable to connect to your <code>host</code> because your are trying to connect twice with the same <code>client</code>.</p>		<p>Your code looks like this:</p>		<pre><code>// returns an already connected client, if available	WiFiClient client = server.available()		//...		if (client.connect(host, 80)) {/*...*/}	</code></pre>		<p>You see, you are using the <em>already connected</em> client to attempt to <em>connect</em> to your host. Instead, try creating a separate <code>WiFiClient</code> for that job:</p>		<pre><code>WiFiClient requesting_client = server.available();	//...	if (req.indexOf("/gpio/0") != -1) {	  val = 0;	  // create a fresh, new client	  WiFiClient emailing_client;	  if (emailing_client.connect(host, 80)) {	    // ...	    // don't forget that you need to close this client as well!	    emailing_client.stop();	  }	</code></pre>		<p>Hope this helps!</p>	"
