thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
35369822,35369822,null,1,12,Fri Feb 12 18:35:00 EST 2016,1896721,"<p>I am trying to access a simple AWS IOT REST service but I have not been able to do so successfully yet. Here is what I did. </p>		<ol>	<li>I created an iam user in my aws and downloaded the access key and secret key</li>	<li>Logged into AWS IOT with that user and created a "thing"</li>	<li>From the thing's property I found the REST URL for the shadow</li>	<li>Used Postman with the new "aws signature" feature and provided it with the access key, secret key, region (us-east-1) and service name (iot) </li>	<li><p>Tried to "GET" the endpoint and this is what I got -</p>		<p><code>{	      "message": "Credential should be scoped to correct service. ",	      "traceId": "be056198-d202-455f-ab85-805defd1260d"	}</code></p></li>	<li><p>I thought there is something wrong with postman so I tried using aws-sdk-sample example of connecting to S3 and changed it to connect to the IOT URL. 	Here is my program snippet (Java)</p>		<pre><code>String awsAccessKey = "fasfasfasdfsdafs";	String awsSecretKey = "asdfasdfasfasdfasdfasdf/asdfsdafsd/fsdafasdf";		URL  endpointUrl = null;	String regionName = "us-east-1";	try {	    endpointUrl = new URL("https://dasfsdfasdf.iot.us-east-1.amazonaws.com/things/SOMETHING/shadow");	}catch (Exception e){	    e.printStackTrace();	}	Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();	headers.put("x-amz-content-sha256", AWSSignerBase.EMPTY_BODY_SHA256);		AWSSignerForAuthorizationHeader signer = new AWSSignerForAuthorizationHeader(	        endpointUrl, "GET", "iot", regionName);	String authorization = signer.computeSignature(headers,	        null, // no query parameters	        AWSSignerBase.EMPTY_BODY_SHA256,	        awsAccessKey,	        awsSecretKey);		// place the computed signature into a formatted 'Authorization' header	// and call S3	headers.put("Authorization", authorization);	String response = HttpUtils.invokeHttpRequest(endpointUrl, "GET", headers, null);	System.out.println("--------- Response content ---------");	System.out.println(response);	System.out.println("------------------------------------");	</code></pre></li>	</ol>		<p>This gives me the same error - </p>		<pre><code>--------- Request headers ---------	x-amz-content-sha256: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855	Authorization: AWS4-HMAC-SHA256 Credential=fasfasfasdfsdafs/20160212/us-east-1/iot/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=3b2194051a8dde8fe617219c78c2a79b77ec92338028e9e917a74e8307f4e914	x-amz-date: 20160212T182525Z	Host: dasfsdfasdf.iot.us-east-1.amazonaws.com	--------- Response content ---------	{"message":"Credential should be scoped to correct service. ","traceId":"cd3e0d96-82fa-4da5-a4e1-b736af6c5e34"}	------------------------------------	</code></pre>		<p>Can someone tell me what I am doing wrong please? AWS documentation does not have much information on this error. Please help</p>	"
35369822,68584987,35369822,3,0,Fri Nov 18 12:52:00 EST 2016,4063626,"same problem here"
35369822,59375876,35369822,3,0,Mon Mar 07 22:14:00 EST 2016,2483229,"didi you solve the problem? I'm with the same"
35369822,35373518,35369822,2,-1,Fri Feb 12 22:47:00 EST 2016,4169664,"<p>Use the AWS IoT <a href="https://github.com/aws/aws-iot-device-sdk-js" rel="nofollow">SDK for Node.js</a> instead. Download the IoT Console generated private key and client cert as well as the CA Root cert from <a href="https://www.symantec.com/content/en/us/enterprise/verisign/roots/VeriSign-Class%203-Public-Primary-Certification-Authority-G5.pem" rel="nofollow">here</a>. Start with the scripts in the examples directory.</p>	"
35369822,60176859,35373518,3,1,Tue Mar 29 03:49:00 EDT 2016,2551875,"That really doesn't answer the question that was asked."
35369822,36153028,35369822,2,11,Tue Mar 22 11:20:00 EDT 2016,1608420,"<p>Sign your request with <code>iotdata</code> instead if <code>iot</code><br>	example:    </p>		<pre><code>AWSSignerForAuthorizationHeader signer = new AWSSignerForAuthorizationHeader(	    endpointUrl, "GET", "iotdata", regionName);	</code></pre>	"
35369822,69608926,36153028,3,2,Sun Dec 18 01:50:00 EST 2016,295231,"Was stuck trying to do this through Postman. This little bit about 'iotdata' is not found anywhere in api docs - thank you."
35369822,75896551,36153028,3,0,Fri Jun 09 05:17:00 EDT 2017,1506422,"What is solution to execute this from postman?"
35369822,75927192,36153028,3,0,Fri Jun 09 19:15:00 EDT 2017,1608420,"@user there is an AWS Signature option in postman"
35369822,46538778,35369822,2,0,Tue Oct 03 06:58:00 EDT 2017,8578221,"<p>Its basically due to Service name is not given correctly you can use service Name = 'iotdata' instead of iot.</p>		<p>If you user Key management then Service Name would be kms. 	For EC2 Service Name would be ec2 etc.</p>	"
