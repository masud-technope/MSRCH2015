thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
48427361,48427361,null,1,1,Wed Jan 24 16:32:00 EST 2018,9262860,"<p>I want to publish a <code>.wav</code> file to the broker. After that I want to subscribe this <code>.wav</code> file and write it into new file.</p>		<p>The audio file is 3.4MB large. </p>		<p>The code works fine if the file isnt that large, for example a picture with the size 56kb works without any problems. </p>		<p>I'm using Python 2.7 and the libary paho-mqtt</p>		<p>Publish Code:</p>		<pre><code>import paho.mqtt.client as mqtt		topic = "/voice/"		#Die Variablen sind bei mir im Skript entsprechend angepasst 	user = "user"	pw = "passwort"	host = "X.cloudmqtt.com"	port = 116123		def on_message(client, obj, msg):	    print(msg.topic + " " + str(msg.qos) + " " + str(msg.payload))		mqttc = mqtt.Client()		mqttc.on_message = on_message		mqttc.username_pw_set(user, pw)	mqttc.connect(host, port)		f = open("name.wav", "rb")	imagestring = f.read()	f.close()	byteArray = bytearray(imagestring)		mqttc.publish(topic, byteArray)		rc = 0		while rc == 0:	    rc = mqttc.loop()	</code></pre>		<p>Subscribe Code</p>		<pre><code>import paho.mqtt.client as mqtt		topic = "/voice/"		#Die Variablen sind bei mir im Skript entsprechend angepasst 	user = "user"	pw = "passwort"	host = "X.cloudmqtt.com"	port = 116123		def on_message(client, obj, msg):	    print("Write")	    f = open('new.wav', 'wb')	    f.write(msg.payload)	    f.close()		mqttc = mqtt.Client()	mqttc.on_message = on_message	mqttc.username_pw_set(user, pw)	mqttc.connect(host, port)		mqttc.subscribe(topic, 0)		rc = 0		while rc == 0:	    rc = mqttc.loop()	print("rc: " + str(rc))	</code></pre>		<p>After a while im getting a rc: 7. And the subscriber interrupt the process.	Thx for the help</p>	"
48427361,93460288,48427361,3,0,Tue Nov 13 20:46:00 EST 2018,2318649,"Presumably your mqtt server isnâ€™t actually on port 116123 - port numbers are in range 1-65535. Also MQTT topics can but should not start with a leading / (ref https://www.hivemq.com/blog/mqtt-essentials-part-5-mqtt-topics-best-practices) and a trailing / doesnâ€™t mean anything"
48427361,93460343,48427361,3,0,Tue Nov 13 20:49:00 EST 2018,2318649,"Oops â€œmqtt brokerâ€? not server"
48427361,93460447,48427361,3,0,Tue Nov 13 20:54:00 EST 2018,2318649,"Have you checked the payload size limits of your mqtt broker?Presumably 3.4Mb is too large."
48427361,93460738,48427361,3,0,Tue Nov 13 21:06:00 EST 2018,504554,"MQTT messages can be up to 256mb, 3.4mb should not be a problem"
48427361,93499712,48427361,3,0,Wed Nov 14 22:07:00 EST 2018,2318649,"Indeed. But still worth confirming."
48427361,53289566,48427361,2,0,Tue Nov 13 21:13:00 EST 2018,504554,"<p>Error 7 means that the connection has been lost. I would check the broker logs to see if it closed the connection for a reason.</p>		<p>Since you are only sending 1 message you should be able to just use the <a href="https://pypi.org/project/paho-mqtt/#single" rel="nofollow noreferrer">single</a> publish shortcut that will handle everything for you:</p>		<pre><code>import paho.mqtt.publish as publish		topic = "voice"		#Die Variablen sind bei mir im Skript entsprechend angepasst 	user = "user"	pw = "passwort"	host = "X.cloudmqtt.com"	port = 116123		f = open("name.wav", "rb")	imagestring = f.read()	f.close()	byteArray = bytearray(imagestring)			publish.single(topic, byteArray, hostname="host",auth = {â€˜usernameâ€™:user, â€˜passwordâ€™:pw})	</code></pre>		<p>Also topics should not end with a <code>/</code> and while allowed by the spec it is a bad idea to start them with a leading <code>/</code></p>	"
