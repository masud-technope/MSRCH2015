thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
57297853,57297853,null,1,1,Wed Jul 31 19:40:00 EDT 2019,9370671,"<p>I'm using native MQTT with an Azure IoT Hub. The underlying issue is that once the payload is routed to a blob storage it is encoded as Base64. I believe this is due to missing the System Property "contentType=UTF-8". </p>		<p>I tried using the following topics with no success:</p>		<pre><code>devices/test/messages/events/contentEncoding=UTF-8&amp;contentType=application/json	devices/test/messages/events/contentEncoding=UTF-8	devices/test/messages/events/contentEncoding=UTF-8&amp;contentType=applicationjson	devices/test/messages/events/.contentEncoding=UTF-8	</code></pre>		<p>This put these two items into a "Properties" nest which is independent of the "System Properties" nest (see below).</p>		<pre><code>{"EnqueuedTimeUtc":"2019-07-31T19:24:57.4290000Z","Properties":{"contentEncoding":"UTF-8","contentType":"applicationjson"},"SystemProperties":{"connectionDeviceId":"test","connectionAuthMethod":"{\"scope\":\"device\",\"type\":\"sas\",\"issuer\":\"iothub\",\"acceptingIpFilterRule\":null}","connectionDeviceGenerationId":"000","enqueuedTime":"2019-07-31T19:24:57.4290000Z"},"Body":"msginbase64insteadofutf8"}	</code></pre>		<p>I tried formatting the message according to the "Common Format" described here also with no success: <a href="https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-routing-query-syntax#message-routing-query-based-on-message-properties" rel="nofollow noreferrer">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-routing-query-syntax#message-routing-query-based-on-message-properties</a></p>	"
57297853,57298594,57297853,2,1,Wed Jul 31 20:45:00 EDT 2019,8084828,"<p>The following is an example of the publisher topic and system properties*:</p>		<pre><code>devices/test/messages/events/$.ct=application%2Fjson&amp;$.ce=utf-8	</code></pre>	"
57297853,101091439,57298594,3,0,Wed Jul 31 20:59:00 EDT 2019,9370671,"Thank you, Roman. I went through the documentation several times, but likely would not have come up with that."
