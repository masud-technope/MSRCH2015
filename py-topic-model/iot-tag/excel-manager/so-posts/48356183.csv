thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
48356183,48356183,null,1,1,Sat Jan 20 12:33:00 EST 2018,963798,"<p>I am developing some "smart home" IOT stuff and what I am trying to do is have my IOT devices connected to my server using websocket and have my server as a "root node" and have it host the GUI then have the clients connected to the server using WebSocket as well. </p>		<p>Currently I am developing a door sensor using an ESP8266-01 and what I have working at the moment is the GUI website hosted on the ESP 01 and then I connect directly to it from my client (<em>thru a router</em>) using WebSocket it works very well effectively have "zero" latency from when a sensor get triggered to when it updates in the GUI, but what I want is the sensor gets triggered its connected to my server it host the GUI and then it is connected to the client using WebSocket as well and still keep that "zero" latency.</p>		<p>So my question is what should I be doing on the server side? Because currenty it is pretty straight forward it's just a HTML webpage and javaScript and when I connect with my client to the ESP then it sends the data, but If I want a server that's always connected to the IOT devices logging data and updating GUI without having the client directly connected to the IOT device, how would I do that? </p>		<p>Hopefully it makes some sense what I am trying to do.</p>		<p><strong>Map of my planned setup:</strong>	<a href="https://i.stack.imgur.com/KOIuG.jpg" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/KOIuG.jpg" alt="enter image description here"></a></p>	"
48356183,48356749,48356183,2,0,Sat Jan 20 13:35:00 EST 2018,5230735,"<p>your sensors send data and this data can be stored on the server i.e. logged to a file on the server while your smartphone (' client' ) is not connected to the server. forthis you need access to the file system that you can get with node <em>file system module</em></p>		<p>code example is in 	 <a href="https://stackoverflow.com/questions/42397482/socket-io-node-js-server-save-string-to-txt-file-on-server">Socket io / node js server - save string to txt file on server</a></p>		<blockquote>	  <p>First you get the file system library:</p>	</blockquote>		<pre><code>var fs = require('fs');	</code></pre>		<blockquote>	  <p>Then, you can just output like this:</p>	</blockquote>		<pre><code>fs.writeFile("log.txt", stringText, function(error) {	    if(error) throw error; // Handle the error just in case	    else console.log("Success!");	}); 	</code></pre>		<p>the <code>stringText</code> is the data you received from a socket to an IoT device</p>		<p>then you have a file with logged data on your server ( you can also insert timestamps, ... ) that you can process when the client ( smartphone ) connects again</p>		<p>( <a href="https://nodejs.org/api/fs.html" rel="nofollow noreferrer">https://nodejs.org/api/fs.html</a>, <a href="https://www.w3schools.com/nodejs/nodejs_filesystem.asp" rel="nofollow noreferrer">https://www.w3schools.com/nodejs/nodejs_filesystem.asp</a> )</p>	"
48356183,83700896,48356749,3,0,Sat Jan 20 14:16:00 EST 2018,963798,"Ok, but in a scenario where I have on my smartphone(client) in the GUI a button that I press and I want my IOT device (that for example is a light) to be turn on instantly with no delay, that's really the thing that I am trying to solve, the logging should not be to difficult  could just write txt or what I probably will do is MySQL database. What I am thinking is like IOT is connected to server then when a websocket event is triggered it then using like javascript triggers a send websocket event to the client if any client is connected and the opposite when the client sent event."
