thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
35976277,35976277,null,1,1,Sun Mar 13 21:48:00 EDT 2016,6058279,"<p>i have set up a mongoldb connection as in this code</p>		<pre><code>client.connect(mongodbURL,function (err,db){	   if(err) throw err;	   collection=db.collection("accel1");	 });	</code></pre>		<p>later in the code, i update documents to a collection inside a function that is repeated in intervals</p>		<pre><code>setInterval(create_doc,db_doc_interval);		 function create_doc(){	 console.log("writing to db");		 collection.update( &lt;...updates&gt; );	 }	</code></pre>		<p>the problem is it gives an error </p>		<pre><code>TypeError: Cannot call method 'update' of undefined	</code></pre>		<p>which makes me think that somehow collection is not being defined correctly or it is not being passed into the function correctly. any help is greatly appreciated. thanks </p>		<p>BTW code works fine if i put the establishing connection part inside the second function were collection is called. but this causes a new connection to be established every time and is very resource intensive</p>	"
35976277,59607019,35976277,3,0,Sun Mar 13 21:54:00 EDT 2016,2999531,"where did you defined collection?"
35976277,59607287,35976277,3,0,Sun Mar 13 22:10:00 EDT 2016,5919473,"show us update statement as this makes an error..."
35976277,35980632,35976277,2,0,Mon Mar 14 06:12:00 EDT 2016,3011380,"<p>This error is caused by the <code>collection</code> variable is NOT be assigned in the callback function of <code>client.connect</code>, before it is invoked in the <code>create_doc</code> function through accessing <code>.update</code> function. Move <code>setInterval</code> function into the callback of <code>client.connect(</code> as below.</p>		<pre><code>client.connect(mongodbURL,function (err,db){	     if(err) throw err;	     collection=db.collection("accel1");	     setInterval(create_doc,db_doc_interval);	 });	</code></pre>	"
