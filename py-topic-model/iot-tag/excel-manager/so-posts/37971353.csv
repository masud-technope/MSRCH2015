thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
37971353,37971353,null,1,1,Wed Jun 22 14:42:00 EDT 2016,2752203,"<p>I'm using amqp to send messages from my iot devices to Azure IoTHub. I'm writing a program in C# and I want to check if the devices are able to establish a connection with iot hub. 	What would be the best way of achieving this? Is it possible to create a callback function?</p>		<p>I noticed that one of my devices are on a closed network, that is the amqp port is blocked. But the device logs that It's sending messages to IoT Hub (no exceptions thrown) and when I check Iot Hub no messages have been received. This is why I want to check if the device is able to establish a connection with IoT Hub</p>		<p>The java sdk has a eventcallback class but not C#, or am I missing something?</p>		<p><code>protected static class EventCallback implements IotHubEventCallback { 	    public void execute(IotHubStatusCode status, Object context) { 	        System.out.println("IoT Hub responded to message with status " + status.name()); 	    } 	}</code></p>		<p>Edit: 	Would this be a good implementation?</p>		<p><code>	    try {	        client = DeviceClient.CreateFromConnectionString("***", TransportType.Amqp);	        var task = client.OpenAsync();	        task.Wait(30000); // wait for 30 sec 	        if (task.IsCompleted) {	            Console.WriteLine("Connected");	            await client.CloseAsync();	        }	        else {	            throw new Exception("Time out");	        }	    }	    catch (Exception e) {	        Console.WriteLine("Error");	    }	</code></p>	"
37971353,78296589,37971353,3,0,Mon Aug 14 07:43:00 EDT 2017,3073272,"see https://stackoverflow.com/questions/39100278/how-do-i-know-if-my-device-in-azure-iot-hub-is-reachable"
37971353,37980180,37971353,2,2,Thu Jun 23 00:06:00 EDT 2016,3610911,"<p>Assuming you're using the <a href="http://azure.github.io/azure-iot-sdks/" rel="nofollow noreferrer">Azure IoT SDK</a>, the connection isn't actually opened when initializing the DeviceClient.  It gets opened when you call the SendEventAsync or ReceiveAsync methods.  You can also call OpenAsync() to attempt an open.  If communication can't be established or something goes wrong, an exception will be thrown.</p>		<p>Take a look at the Azure IoT SDK samples on GitHub.  Here's a link to the AmqpSample: <a href="https://github.com/Azure/azure-iot-sdk-csharp/tree/master/device/samples/DeviceClientAmqpSample" rel="nofollow noreferrer">https://github.com/Azure/azure-iot-sdk-csharp/tree/master/device/samples/DeviceClientAmqpSample</a></p>		<p>Since the SDK is open source you can walk the Microsoft.Azure.Devices.Client code and see what specific exception will be thrown for different connection failures (IotHubCommunicationException, UnauthorizedException, etc).</p>		<p>For testing you can use the Device Explorer tool to manage devices and monitor/send messages for your Hub:	<a href="https://github.com/Azure/azure-iot-sdk-csharp/tree/master/tools/DeviceExplorer" rel="nofollow noreferrer">https://github.com/Azure/azure-iot-sdk-csharp/tree/master/tools/DeviceExplorer</a></p>	"
37971353,63419920,37980180,3,0,Thu Jun 23 09:43:00 EDT 2016,2752203,"Thanks for the help @ian, I noticed that one of my devices are on a closed network, that is the amqp port is blocked. But the device logs that It's sending messages to IoT Hub (no exceptions thrown) and when I check Iot Hub no messages have been received.  This is why I want to check if the device is able to establish a connection with IoT Hub."
37971353,63420003,37980180,3,2,Thu Jun 23 09:45:00 EDT 2016,2752203,"I noticed that the java sdk has an eventcallback class but not C# 		`protected static class EventCallback implements IotHubEventCallback {	public void execute(IotHubStatusCode status, Object context) { System.out.println("IoT Hub responded to message with status " + status.name()); } } `"
