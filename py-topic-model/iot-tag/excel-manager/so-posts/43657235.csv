thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
43657235,43657235,null,1,1,Thu Apr 27 12:03:00 EDT 2017,7578346,"<p>I have created a java file which is getting data after pressing button on IoT modem.	IoT device publishes the protocol data over the <a href="http://pubnub.com" rel="nofollow noreferrer">PubNub</a> and I am getting data in my java program from PubNub after subscribing onto this.</p>		<p>The received data is hexadecimal value in ASCII representation.</p>		<p>I am getting protocol data as a single string and converting into char array, then from array I am taking some part of array and converting into decimal values.</p>		<p>Just after execution of the program I am getting correct data but later on the data is not correct.</p>		<p>Here is my whole code:</p>		<pre><code>import com.pubnub.api.Callback;	import com.pubnub.api.Pubnub;	import com.pubnub.api.PubnubException;		public class SubscribeTest {	    String PUB_KEY = "pub-c-a2a1d4ab...";	    String SUB_KEY = "sub-c-0ce5f84a...";	    String CHANNEL = "IOT1";	    Pubnub pn = new Pubnub(PUB_KEY,SUB_KEY);		    String receivedData = new String(); //to store the subscribed data	    char[] receivedDataInArray = new char[50];  //to store the converted string		    int deviceId = 0;	    int functionCode = 0;	    int productId =0;	    int timeHour = 0;	    int timeMin = 0;	    int dateDay = 0;	    int dateMonth = 0;	    int eventCount = 0;			    public void subTest() throws PubnubException {  	        try {		            System.out.println("Subscribed");	            pn.subscribe(CHANNEL, new Callback() {		                @Override	                public void successCallback(String arg0, Object arg1) {			                    System.out.println(arg1);	                    receivedData = (String)arg1;    //subscribed data stored 	                    System.out.println("DATA :-" + receivedData);	                    System.out.println("Message length :  "+receivedData.length());		                    for(int i=0; i&lt;receivedData.length(); i++) {	                        receivedDataInArray[i] = receivedData.charAt(i);        //Received data converted into array	                    }		                    System.out.println(receivedDataInArray);		                    int tmp = 0;	                    for (int j = 0; j &lt; 4 ; j++) {		                        if (j &lt; 3) {	                            if(receivedDataInArray[j] &gt; 0x39) {	                                if(receivedDataInArray[j] == 'A') {	                                    tmp = 0x0A;	                                }else if(receivedDataInArray[j] == 'B') {	                                    tmp = 0x0B;	                                }else if(receivedDataInArray[j] == 'C') {	                                    tmp = 0x0C;	                                }else if(receivedDataInArray[j] == 'D') {	                                    tmp = 0x0D;	                                }else if(receivedDataInArray[j] == 'E') {	                                    tmp = 0x0E;	                                }else if(receivedDataInArray[j] == 'F') {	                                    tmp = 0x0F;	                                }		                                deviceId |= tmp;	                                deviceId &lt;&lt;= 4;		                            } else {	                                tmp=receivedDataInArray[j]-0x30;	                                deviceId |= tmp;	                                deviceId &lt;&lt;= 4;	                            }	                        }else {	                            if (receivedDataInArray[j] &gt; 0x39) {	                                if (receivedDataInArray[j] == 'A') {	                                    tmp = 0x0A;	                                }else if(receivedDataInArray[j] == 'B') {	                                    tmp = 0x0B;	                                }else if(receivedDataInArray[j] == 'C') {	                                    tmp = 0x0C;	                                }else if(receivedDataInArray[j] == 'D') {	                                    tmp = 0x0D;	                                }else if(receivedDataInArray[j] == 'E') {	                                    tmp = 0x0E;	                                }else if(receivedDataInArray[j] == 'F') {	                                    tmp = 0x0F;	                                }		                                deviceId |= tmp;	                            } else {	                                tmp = receivedDataInArray[j]-0x30;	                                deviceId |= tmp;	                            }	                        }   	                    }	                    System.out.println("device ID:--"+deviceId);		                    //for Product Id	                    tmp = receivedDataInArray[10]-0x30;	                    productId = tmp;	                    productId &lt;&lt;= 4;	                    tmp = receivedDataInArray[11]-0x30;	                    productId |= tmp;		                    //for Time Hour	                    tmp = receivedDataInArray[12]-0x30;	                    timeHour = tmp*10;	                    //timeHour &lt;&lt;= 4;	                    tmp = receivedDataInArray[13]-0x30;	                    timeHour += tmp;		                    //for Time Minute	                    tmp = receivedDataInArray[14]-0x30;	                    timeMin = tmp*10;	                    //timeMin &lt;&lt;= 4;	                    tmp = receivedDataInArray[15]-0x30;	                    timeMin += tmp;		                    //for Date Day	                    tmp = receivedDataInArray[16]-0x30;	                    dateDay = tmp*10;	                    //date &lt;&lt;= 4;	                    tmp = receivedDataInArray[17]-0x30;	                    dateDay += tmp;		                    //for month	                    tmp = receivedDataInArray[18]-0x30;	                    dateMonth = tmp*10;	                    //dateMonth &lt;&lt;= 4;	                    tmp = receivedDataInArray[19]-0x30;	                    dateMonth += tmp;		                    //for event count	                    for (int j = 20; j &lt; 24 ; j++) {		                        if (j &lt; 23) {	                            if(receivedDataInArray[j] &gt; 0x39) {	                                if(receivedDataInArray[j] == 'A') {	                                    tmp=0x0A;	                                }else if(receivedDataInArray[j] == 'B') {	                                    tmp=0x0B;	                                }else if(receivedDataInArray[j] == 'C') {	                                    tmp=0x0C;	                                }else if(receivedDataInArray[j] == 'D') {	                                    tmp =0x0D;	                                }else if(receivedDataInArray[j] == 'E') {	                                    tmp=0x0E;	                                }else if(receivedDataInArray[j] == 'F') {	                                    tmp=0x0F;	                                }		                                eventCount |= tmp;	                                eventCount &lt;&lt;= 4;		                            } else {	                                tmp=receivedDataInArray[j]-0x30;	                                eventCount |= tmp;	                                eventCount &lt;&lt;= 4;	                            }	                        }else {	                            if (receivedDataInArray[j] &gt; 0x39) {	                                if (receivedDataInArray[j] == 'A') {	                                    tmp = 0x0A;	                                }else if(receivedDataInArray[j] == 'B') {	                                    tmp = 0x0B;	                                }else if(receivedDataInArray[j] == 'C') {	                                    tmp = 0x0C;	                                }else if(receivedDataInArray[j] == 'D') {	                                    tmp = 0x0D;	                                }else if(receivedDataInArray[j] == 'E') {	                                    tmp = 0x0E;	                                }else if(receivedDataInArray[j] == 'F') {	                                    tmp = 0x0F;	                                }	                                eventCount |= tmp;	                            } else {	                                tmp = receivedDataInArray[j]-0x30;	                                eventCount |= tmp;	                            }	                        }   		                    }			                    System.out.println("***Received data from device***"+"\n\n"+	                            "Device id : "+deviceId+	                            "\nProduct Id: "+productId+	                            "\nTime Hour: "+timeHour+	                            "\nTime Minutes: "+timeMin+	                            "\nDate Day: "+dateDay+	                            "\nDate Month: "+dateMonth+	                            "\nEvent Count: "+eventCount);	                }		            });		        }catch (PubnubException e) {	            // TODO Auto-generated catch block	            e.printStackTrace();	        }	    }	    public static void main(String[] args) throws PubnubException {		        new SubscribeTest().subTest();	    }		}	</code></pre>		<p>If I execute this, after pressing the button of IoT modem I am getting correct data But if I press again then only <strong>device Id</strong> and <strong>event count</strong> get differed.</p>		<p>Here is my output:</p>		<p><strong>1st time after execution</strong></p>		<pre><code>167303080003063001020001	DATA :-167303080003063001020001	Message length :  24	167303080003063001020001	device ID:--5747	***Received data from device***		Device id : 5747	Product Id: 3	Time Hour: 6	Time Minutes: 30	Date Day: 1	Date Month: 2	Event Count: 1	</code></pre>		<p><strong>2nd time after execution</strong></p>		<pre><code>167303080003063001020001	DATA :-167303080003063001020001	Message length :  24	167303080003063001020001	device ID:--23541363	***Received data from device***		Device id : 23541363	Product Id: 3	Time Hour: 6	Time Minutes: 30	Date Day: 1	Date Month: 2	Event Count: 4097	</code></pre>		<p>Here, <strong>167303080003063001020001</strong> is the protocol data getting from the device is same for the both outputs.</p>		<p>Is there any problem with <strong>Callback()</strong>?</p>	"
43657235,74410739,43657235,3,1,Fri Apr 28 14:14:00 EDT 2017,7578346,"So, I went through the video available over Vimeo and in that v3 SDK was being used. If possible then can you edit back the same program using v4 SDK or guide me to use."
43657235,74410613,43657235,3,1,Fri Apr 28 14:11:00 EDT 2017,7578346,"I am new to the PubNub, and I have gone through the pubnub's github test java file but I was not able to use those methods described in v4 SDK."
43657235,74423893,43657235,3,0,Fri Apr 28 21:03:00 EDT 2017,1342232,"We do not regularly back edit videos/blogs. It is pretty common for blogs to be a *moment in time* and will age. Let me know if you have answers to the rest of my questions in my previous comments."
43657235,74410820,43657235,3,1,Fri Apr 28 14:16:00 EDT 2017,7578346,"And apologies for that, there were issues with my logic in the program."
43657235,74504114,43657235,3,0,Tue May 02 05:05:00 EDT 2017,7578346,"The protocol data I am getting from IoT device, is having 7 informations as it is shown in the output. Device ID should be same for the IoT device and event count should increase after pressing button each time."
43657235,74504792,43657235,3,0,Tue May 02 05:41:00 EDT 2017,7578346,"If it is possible then please send back the whole program using v4 SDK."
43657235,74370969,43657235,3,1,Thu Apr 27 15:29:00 EDT 2017,1342232,"I redacted your pub/sub key set. You should never expose them to the world unless you have Access Manager enabled on your key set. Before I review all of your code, may I ask why you are not using v4 of the PubNub Java SDK? v3 is going to EOL very soon."
43657235,74371158,43657235,3,1,Thu Apr 27 15:34:00 EDT 2017,1342232,"Next question... you say only device id and event count differ. What is you expectation? That more of the data values should differ or nothing should differ? Also, if the data you are publishing is identical to the data you are receiving in subscribe, then PubNub is no longer involved and it would have to be something with your app's business logic. Let me know what you are expecting in your data and I will continue to drill down on this."
43657235,43730600,43657235,2,0,Tue May 02 05:20:00 EDT 2017,7578346,"<p>The value of Device id and Event counter was taking the previous and current value and after the process conversion it was being assigned a huge value.</p>		<p>So, if I declare all variables inside the successCallback() then after every call of this block the value of all variables will get zero after the execution of whole process all will be having correct value.</p>		<pre><code>public void successCallback(String arg0, Object arg1) {		    int deviceId = 0;	    int functionCode = 0;	    int productId =0;	    int timeHour = 0;	    int timeMin = 0;	    int dateDay = 0;	    int dateMonth = 0;	    int eventCount = 0;		    System.out.println(arg1);	    receivedData = (String)arg1;    //subscribed data stored 	    System.out.println("DATA :-" + receivedData);	    System.out.println("Message length :  "+receivedData.length());		    for(int i=0; i&lt;receivedData.length(); i++) {	        receivedDataInArray[i] = receivedData.charAt(i);        //Received data converted into array	    }	    .   .   .   .	    .   .   .   .	    .   .   .   .	}	</code></pre>	"
