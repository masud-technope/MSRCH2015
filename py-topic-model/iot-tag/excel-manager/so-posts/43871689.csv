thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
43871689,43871689,null,1,1,Tue May 09 13:50:00 EDT 2017,6508416,"<p>I am having trouble in MQTT communication. I am new to MQTT and IOT. I am using IBM Bluemix as a cloud service. I can publish the data using node-red MQTT node on the device type. But I am not able to subscribe to that device and topic. Whenever I try to subscribe, it gets disconnected.	Thanks</p>		<p>In this picture, I am publishing the status event to the device	<a href="https://i.stack.imgur.com/ygO8R.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/ygO8R.png" alt="enter image description here"></a></p>		<p>In this picture, I am getting the published data in the cloud	<a href="https://i.stack.imgur.com/IrRxI.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/IrRxI.png" alt="enter image description here"></a></p>		<p>However, as shown below, when i try to subscribe, it gets disconnected	<a href="https://i.stack.imgur.com/Rk8zI.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/Rk8zI.png" alt="enter image description here"></a></p>		<p>PS: I am using the same client ID. I don't know how to use a different client ID for the same device type.</p>	"
43871689,74779651,43871689,3,0,Tue May 09 14:14:00 EDT 2017,323303,"It can be the same clientID if it is the same Connection.  You cannot, at the same time, use the same clientID for two different connections."
43871689,74781438,43871689,3,0,Tue May 09 14:53:00 EDT 2017,323303,"It's just a guess.  Which is all can be done with the Q as is.  You should include your code or node red flow and the messages you get when you subscribe."
43871689,74779198,43871689,3,0,Tue May 09 14:04:00 EDT 2017,323303,"If you share your code (or nodered flow) we could help more. Show also the error/warning you get at the disconnect.  Make sure your subscribe is not using the same clientid as the publish.  Unless they are both the same piece of code, in which case make sure you don't do two connects."
43871689,74779334,43871689,3,0,Tue May 09 14:07:00 EDT 2017,6508416,"thanks for your reply. how can i use some other clientid rather then the  device client id. I am confused at that point."
43871689,74779627,43871689,3,0,Tue May 09 14:13:00 EDT 2017,6508416,"according to bluemix documentation  clienid should be: d:orgId:deviceType:deviceId and the error i am getting is   Code: 8, Message: AMQJS0008I Socket closed."
43871689,43876747,43871689,2,2,Tue May 09 17:54:00 EDT 2017,4454969,"<p>When you publish, you are publishing as a device and connecting with the device client ID.  A device can not subscribe to a status event, so you should be subscribing as an application.  It will connect with an ID such as A:orgId:appId  <a href="https://console.ng.bluemix.net/docs/services/IoT/applications/mqtt.html#mqtt" rel="nofollow noreferrer">https://console.ng.bluemix.net/docs/services/IoT/applications/mqtt.html#mqtt</a></p>	"
43871689,74794368,43876747,3,0,Tue May 09 20:54:00 EDT 2017,6508416,"Thanks for your reply. from where can i find the appId?"
43871689,43892059,43871689,2,0,Wed May 10 12:07:00 EDT 2017,4454969,"<p>I am adding this info as answer because it was too long to put as comment. You generate the API key from your Watson IOT Platform service dashboard. </p>		<p>When connecting an Application you need 3 properties:</p>		<p>Organization ($org)</p>		<p>API Key ($key)</p>		<p>API Token ($token)</p>		<p>Applications require an API Key to connect into an Organization.  When an API Key is registered a token will be generated that must be used with that API key.  </p>		<p>To generate your API Key and token, launch your Watson IoT service dashboard.  Select â€œAppsâ€? from the left sidebar, then â€œAPI Keysâ€? in the top menu, and choose â€œGenerate API Keyâ€? Button on top right.  The platform will provide you with a pair of â€œAPI Keyâ€? and â€œAuthentication Tokenâ€?, that you need to note down.<br>	See screenshot. <a href="https://i.stack.imgur.com/5p1lk.jpg" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/5p1lk.jpg" alt="enter image description here"></a></p>		<p>The API key will look something like this: a:$org:a84ps90Ajs</p>		<p>The token will look something like this: MP$08VKz!8rXwnR-Q*</p>		<p>When making an MQTT connection using an API key the following applies:</p>		<p>MQTT client ID: a:$org:$appId	MQTT username must be the API key: a:$org:a84ps90Ajs	MQTT password must be the authentication token: MP$08VKz!8rXwnR-Q*</p>	"
43871689,74862525,43892059,3,0,Thu May 11 11:56:00 EDT 2017,4454969,"I had not used MQTT Helper before, but I was able to connect and subscribe.  Try this:  use your API key as follows  use a:6nxnpd:jiqplrwn09 for the Client ID, a-6nxnpd-jiqplrwn09 for the username, the password is the authentication token that was generated when you created the API key.   try the  topic iot-2/type/+/id/+/cmd/+/fmt/+  	(applications use different topic strings than devices).    Also, as I mentioned before you may be able to subscribe another device if you register it - you just can't have both connected concurrently."
43871689,74819342,43892059,3,0,Wed May 10 12:37:00 EDT 2017,6508416,"i have these three: Organization ($org),		API Key ($key),		API Token ($token). but still confused about "appId". what is the $appId of Client Id in that case?"
43871689,74830937,43892059,3,0,Wed May 10 16:56:00 EDT 2017,4454969,"The API key should show on your dashboard now.  It is a concatenation of a for application, your  6 character org for the iot service and a unique identifier generated when you created API key through the dashboard example -   a:xxxxxx:1234567890   Are you using MQTTlens to test?  if you provide your 6 character org I can check logs to see what errors may be occurring."
43871689,74831614,43892059,3,0,Wed May 10 17:15:00 EDT 2017,4454969,"I found your org and checked the logs and see errors for "The client ID was reused." so it may be that the problem is due to using the same client ID to publish and to subscribe.  So using the app to subscribe would help solve the problem, or you could try creating another device ID and use that to do the subscribe. -  I see now your topic is for a cmd so device should be able to subscribe to that."
43871689,74862541,43892059,3,0,Thu May 11 11:57:00 EDT 2017,4454969,"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/143968/discussion-between-valerielampkin-and-hassan-haroon)."
43871689,74834853,43892059,3,0,Wed May 10 18:49:00 EDT 2017,6508416,"i am using Mqtt helper for testing..now i am just publishing with one device id and subscribing with another device id. it is subscribing but not getting data.... i know about Api key and token.but still i dont understand about $appID. i think i am not able to explain to you about my problem properly.."
43871689,74834947,43892059,3,0,Wed May 10 18:51:00 EDT 2017,6508416,"MQTT client ID: a:$org:$appId ...for me it would be... a:6nxnpd:"which appid?""
43871689,74838485,43892059,3,0,Wed May 10 20:39:00 EDT 2017,4454969,"What do you see on your IoT dashboard in the apps tab?  See my screenshot above which shows something like  a-text83-2qxxx1123"
43871689,74840237,43892059,3,0,Wed May 10 21:40:00 EDT 2017,6508416,"its a-6nxnpd-jiqplrwn09"
