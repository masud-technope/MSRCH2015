thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
33077354,33077354,null,1,0,Mon Oct 12 09:14:00 EDT 2015,1907509,"<p>I am trying to convert a byte* parameter passed into an mqtt callback function to an int for comparison and I can't seem to get it working. Any help would be welcomed.</p>		<pre><code>int fsrReading;	void callback(char* topic, byte* payload, unsigned int length) {		  for (int i=0;i&lt;length;i++) {		    Serial.print((char)payload[i]); // This works well		    fsrReading = int((char)payload[i]); 		    if (fsrReading &lt; 0){	       ...	</code></pre>	"
33077354,33077997,33077354,2,0,Mon Oct 12 09:44:00 EDT 2015,794606,"<p><em>EDIT: original answer part before explanation:</em></p>		<p>Depends on compiler, compiler  options etc <code>char</code> can be <code>signed</code> or <code>unsigned</code>, cast via <code>(char)</code> can work different than You expect.</p>		<p>Example: </p>		<p>payload[i] is 0x81</p>		<p>unsigned char -> 129, then >0 </p>		<p>signed char -> -127, then &lt;0 </p>		<p>Your cast via (char) is redundant (and unstable like i said)</p>		<p>I don't give sample code because I don't understand Your goal. Code has contradictions.</p>		<p>Disclaimer: Your <code>byte</code> seems non standard type. I <strong>belive</strong> that is <code>unsigned char</code> a such type NEVER is &lt;0 .</p>		<p>What is main sense of this variable? In deep, it is signed or unsigned? You can cast <code>(unigned char)</code> but is never&lt;0 or <code>(signed char)</code> - up to You</p>		<p>EDIT:	after comment of asker, and interpretation from knolleary hot to interpret length (important: change of loop sense, maybe you understand author correctly) I give pure C conversion</p>		<pre><code> int val = 0;	  for (int i=0; i&lt;length; i++) {	      val = val*10 + payload[i]-'0';	  }	// If someone know end of number is marked in different way, need implement break of `for`	  fsrReading =val;	</code></pre>		<p>I believe my is few CPU cycles/RAM better.</p>		<p><strong>EDIT2:</strong> I have read few materials from Arduino community, problem with loop concatenation into String is like in many languages: many, many small allocations (while concatenation is totally not required here). Many good Arduino programmers are critical to overuse of <code>String</code>. It isn't "secret knowledge", it is general rule in programming.</p>		<p><a href="http://forum.arduino.cc/index.php?topic=185469.0" rel="nofollow">http://forum.arduino.cc/index.php?topic=185469.0</a> </p>		<p><a href="http://www.gammon.com.au/concat" rel="nofollow">http://www.gammon.com.au/concat</a></p>	"
33077354,53979587,33077997,3,0,Mon Oct 12 12:50:00 EDT 2015,794606,"Agree with hardillb. How long is such numeric sequence? Terminated by `'\0'`, separator, any by non-digit character etc? But You (user1907509) print ONLY ONE byte/character. Thats why code is hard to understand"
33077354,53977847,33077997,3,0,Mon Oct 12 12:05:00 EDT 2015,504554,"Casting a byte to a char will not give you a numerical string"
33077354,53973785,33077997,3,0,Mon Oct 12 10:13:00 EDT 2015,1907509,"My goal is to convert the byte array into a int fsrReading. I was thinking of using the for loop to capture each byte array element and then assigning it to a char array. In essence I am trying to get the string representation of the passed in byte array so I can do a comparison on the int value."
33077354,33082161,33077354,2,2,Mon Oct 12 13:17:00 EDT 2015,2117239,"<p>The correct way to do this depends on exactly what representation of a number is being used.</p>		<p>I suspect the message is a string representation of a number: "1234", which is being received as an array of ascii byte values.</p>		<p>If that is the case, you can rebuild a String object and convert it to an int:</p>		<pre><code>int fsrReading;	void callback(char* topic, byte* payload, unsigned int length) {	  String value = "";	  for (int i=0;i&lt;length;i++) {	      value += (char)payload[i];	  }	  fsrReading = value.toInt();	  ...	</code></pre>		<p>There is an example of converting a String to an Int in the arduino tutorials here: <a href="https://www.arduino.cc/en/Tutorial/StringToIntExample" rel="nofollow">https://www.arduino.cc/en/Tutorial/StringToIntExample</a></p>	"
33077354,53982689,33082161,3,0,Mon Oct 12 14:06:00 EDT 2015,794606,"One more "the best non standard C++ string implementation" ? In my opinion this is one of sources defeat of C++ language.... I don't know that arduino developers made such invention. Sorry for sarcasm."
33077354,53983080,33082161,3,0,Mon Oct 12 14:16:00 EDT 2015,794606,"I use Your understanding of representation in my answer (what is not clear in question, and author don't send full explanation). Can You forgive me? ;) Sarcasm is not for You, because of to general strange evolution of C++ libraries."
33077354,54278776,33082161,3,0,Tue Oct 20 13:30:00 EDT 2015,1907509,"Thank you this really helped"
