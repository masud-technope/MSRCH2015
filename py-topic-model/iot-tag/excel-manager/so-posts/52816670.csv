thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
52816670,52816670,null,1,0,Mon Oct 15 12:20:00 EDT 2018,1862909,"<p>I'm having a lot of inbound messages via mqtt on aws iot. Most of the messages have the same payload, and only change the timestamp. </p>		<p>I need to run a lambda function that stores the data, but I only want to store data points when actually something changed. How can check for this inside the lambda function? Does the lambda function configured under <code>act</code>, triggered by <code>$aws/things/THING-NAME/shadow/update/documents</code>  runs before the shadow gets updated or after? </p>		<p>this is the configuration of my rule:	<a href="https://i.stack.imgur.com/j8q8a.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/j8q8a.png" alt="enter image description here"></a></p>		<p>thanks</p>	"
52816670,52817793,52816670,2,2,Mon Oct 15 13:24:00 EDT 2018,2531132,"<p>The lambda gets triggered <em>after</em> the device shadow has updated.</p>		<p>But importantly the event payload sent to this lambda will contain two keys <code>{ previous, current }</code>. The <code>previous</code> and <code>current</code> keys will contain the full device shadow before and after the update respectively.</p>		<p>So to achieve what you want, you can then compare the <code>previous</code> and <code>current</code> to see what values have changed, excluding things like timestamps, etc.</p>	"
