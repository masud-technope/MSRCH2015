thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
50908580,50908580,null,1,0,Mon Jun 18 11:33:00 EDT 2018,1149376,"<p>I am trying to find solution for secure authorization to my own bluetooth device. Multiple users can connect to that device via Bluetooth Low Energy from their smartphones, but that device is not connected to the Internet. It has no database, low memory and not every user should be able to connect and manage my device (one user can be connected at the same time). How can I authorize user secure? I would to like to avoid storing single plain password in device, but right now I have not any other idea.</p>	"
50908580,88952640,50908580,3,0,Thu Jun 21 22:41:00 EDT 2018,1149376,"Ok, but how can I store secret key in cloud securly?"
50908580,88952662,50908580,3,0,Thu Jun 21 22:42:00 EDT 2018,1718554,"You store the public key on the device, not the private key.  The private key is distributed only to those who have the right to use the device."
50908580,88952716,50908580,3,0,Thu Jun 21 22:45:00 EDT 2018,1149376,"So how to store the private key? In that case I have to store it as plaintext."
50908580,88952738,50908580,3,0,Thu Jun 21 22:46:00 EDT 2018,1718554,"Are you asking how you store the public key on the device or are you asking how you store the private key with those who have the right to access the device?"
50908580,88952785,50908580,3,0,Thu Jun 21 22:50:00 EDT 2018,1149376,"In that case the problem is storing the private key in database.User wants to connect to my device, so it retreives private key from cloud server (server checks right access). Storing plain private key in database is security issue."
50908580,88952817,50908580,3,1,Thu Jun 21 22:53:00 EDT 2018,1718554,"That's kind of out of scope of your original question, but a good approach here is to encrypt the private key with the users password.  This way an attacker that gains access to the database can't decrypt the private key since they don't have the users password."
50908580,88952879,50908580,3,0,Thu Jun 21 22:57:00 EDT 2018,1149376,"That is a good solution, thanks!"
50908580,88817552,50908580,3,1,Mon Jun 18 11:52:00 EDT 2018,1718554,"Storing a public key on the device and designing a simple challenge-response protocol would do the trick.  It's an unusual use for PKI but it would work."
