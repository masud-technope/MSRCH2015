thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
30273847,30273847,null,1,-1,Sat May 16 09:11:00 EDT 2015,3399569,"<p>--this script will turn of the light at the second living room when there is x min no movement detected on the Motion Sensor.</p>		<p>--The script does run and it sometime works, like once or twice a day. but it has to work always, I can't figure out why it is not working. </p>		<pre><code>t1 = os.time()	s = otherdevices_lastupdate['Motion']		year = string.sub(s, 1, 4)	month = string.sub(s, 6, 7)	day = string.sub(s, 9, 10)	hour = string.sub(s, 12, 13)	minutes = string.sub(s, 15, 16)	seconds = string.sub(s, 18, 19)		commandArray = {}		t2 = os.time{year=year, month=month, day=day, hour=hour, min=minutes, sec=seconds}	difference = (os.difftime (t1, t2))	print(difference)		if (otherdevices['Motion'] == 'On' and difference &gt; 60 and difference &lt; 200) then	    commandArray['Light']= 'Off'	    print('2 minutes no movement, turn off Light 2th Living Room')	end 		return commandArray	</code></pre>	"
30273847,48662399,30273847,3,0,Sun May 17 00:31:00 EDT 2015,3399569,"Hey Paul, Thnx for the reply. There are no errors, and the script always run every minute when I check the log file, because it prints always the (difference). This script is only for turning the lights off when there is nog movement. I use a scene to turn it on when there is movement detection which always works good."
30273847,48653201,30273847,3,0,Sat May 16 15:20:00 EDT 2015,1442917,"By "sometimes works" do you mean that it fails with some error in the script? If yes, what's the error? If no, the problem is likely elsewhere as the script may be not launched by the engine or the movement is not properly detected."
30273847,30435036,30273847,2,1,Mon May 25 09:24:00 EDT 2015,1881196,"<p>If the script runs successfully but it doesn't turn the light off even if it's expected to do so, then there are not many possible reasons.</p>		<p>Either otherdevices['Motion'] is not 'On' (the check is case sensitive) or the difference is out of the expected range of 60..200 seconds.</p>	"
30273847,75018637,30435036,3,0,Tue May 16 07:30:00 EDT 2017,702357,"Hi @NickdeKale, could you please a) accept the answer if it works for you and b) post your result to help others? Cheers, Bert"
30273847,48967183,30435036,3,0,Mon May 25 16:39:00 EDT 2015,3399569,"I've put the otherdevices == 'Off ' and now it works great, Thnx!"
