thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
47675786,47675786,null,1,0,Wed Dec 06 13:42:00 EST 2017,9061929,"<p>Hello dear pioneers of Android things!</p>		<p>I am calling for your help as I have been triying for the last couple of months to build an android things driver for the Adafruit SI7021 Themperature and humidity sensor.	<a href="https://github.com/birdybix/Si7021Driver" rel="nofollow noreferrer">Here is the link to the github repository</a> hosting the project.	Connecting and Getting the chip id with <code>readRegByte</code> work fine.	But, I get a <code>PioException: I/O error</code> while trying to retrieve Temperature or humidity data using <code>readRegBuffer</code>.</p>		<pre><code>int address = 0xE5; // from datasheet	byte[] buffer = new byte[3];		device.readRegBuffer(address, buffer, 3); // throws PioException	</code></pre>		<p>I don't know what other clue I can give you to get a clear idea of the problem so do not hesitate to ask any question.</p>		<p>Please don't make me buy an arduino and start all over again ;)</p>		<p>Thank you so mutch!</p>		<p>PS: Use simple words I am a beginner in IoT and Android.</p>	"
47675786,82354930,47675786,3,0,Thu Dec 07 14:46:00 EST 2017,9061929,"You're right! I can't believe I tried so many things but this! I have no idea why though. Because in the c driver the adress used is the hold mode. Thank you."
47675786,82312472,47675786,3,0,Wed Dec 06 14:36:00 EST 2017,690952,"did you tried to read with no hold mode(0xF5)?"
47675786,82310572,47675786,3,1,Wed Dec 06 13:49:00 EST 2017,690952,"Welcome on StackOveerflow. Please visit [tour](https://stackoverfow.com/tour) ... *Questions seeking debugging help ("why isn't this code working?") must include the desired behavior, a specific problem or error **and the shortest code necessary to reproduce it in the question itself.*** - in other case they are off-topic."
47675786,82311091,47675786,3,0,Wed Dec 06 14:02:00 EST 2017,9061929,"Ok, I have added the bugging part of the code. Better?"
47675786,47681247,47675786,2,0,Wed Dec 06 18:36:00 EST 2017,1491707,"<p>The <code>readRegBuffer</code> does not do what I believe you expect. From [the API documentation](<a href="https://developer.android.com/things/reference/com/google/android/things/pio/I2cDevice.html#readRegBuffer(int" rel="nofollow noreferrer">https://developer.android.com/things/reference/com/google/android/things/pio/I2cDevice.html#readRegBuffer(int</a>, byte[], int)):</p>		<blockquote>	  <p>Read multiple bytes from a given register.</p>	</blockquote>		<p>This method would be used if the register you wanted to read was 3 bytes long (24 bits). Looking at <a href="https://www.silabs.com/documents/public/data-sheets/Si7021-A20.pdf" rel="nofollow noreferrer">the part's datasheet</a> (p21), register <code>0xE5</code> for relative humidity appears to be a 2-bit word.</p>		<p>Expecting 3 bytes will create a problem as your device will be expecting 3 bytes to be returned. However, if only two bytes come back there will be an inconsistency in the actual result.</p>	"
47675786,82363457,47681247,3,0,Thu Dec 07 18:47:00 EST 2017,1491707,"Each type of peripheral is different. Even if both support I2C, the number of bytes and register addresses will be different. Making sure to read the datasheet will help identify any edge cases for the device you're supporting."
47675786,82355311,47681247,3,0,Thu Dec 07 14:55:00 EST 2017,9061929,"You are also right. Originally I tried 3 because I used the exaple from [the BPM280 sensor](https://github.com/androidthings/weatherstation). Then I thought it would be usefull to get the checksum (dunno if it is of any help). So 3 doesn't bug but brings back phony data. I tried 2 I get a coherent Humidity data. As for temperature I blew on the sensor for well over a minute and it was not moving mutch... Anyways I pushed the new version on github if ever you would like to try it. Thank you very mutch"
