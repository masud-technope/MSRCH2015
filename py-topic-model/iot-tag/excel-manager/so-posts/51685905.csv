thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
51685905,51685905,null,1,1,Sat Aug 04 13:07:00 EDT 2018,4761409,"<p>I have an application in ASP.NET MVC for listing the IOT devices and  its management. Now i have all twin properties and device properties in the list. I need last activity time of the device to get the details of Active, recently active devices. For this i need last activity time, i guess. Is there any way to collect the last activity time. In azure portal in IOT devices section "last activity time" is shown.</p>	"
51685905,51692932,51685905,2,0,Sun Aug 05 09:06:00 EDT 2018,8084828,"<p>have a look at the <a href="https://docs.microsoft.com/en-us/rest/api/iothub/service/queryiothub" rel="nofollow noreferrer">Service - Query IoT Hub</a> using a REST API.</p>		<p>you can use a query string in the payload request, headers for paging, etc.:</p>		<pre><code>POST https://*****.azure-devices.net/devices/query?api-version=2018-06-30	Authorization: ---sasToken---	x-ms-max-item-count: 50	x-ms-continuation: ********		{	  "query": "SELECT * FROM devices "	}	</code></pre>	"
51685905,51694836,51685905,2,3,Sun Aug 05 13:38:00 EDT 2018,8196846,"<p>You can use the RegistryManager to access the IotHub devices twins. From there you can just create the query you want and cast the result into builtin twin Type. This will allow you to keep code typed and deal with objects. </p>		<p>Here is a sample code I wrote that lists the LastActivityTime of the twins (Console App): </p>		<pre><code> private static RegistryManager registryManager;	    private static string iotHubConnectionString = "&lt;YOUR IOT HUB CONNECTION STRING";	    static void Main(string[] args)	    {	        MainAsync();	        Console.ReadLine();	    }	    static async void MainAsync()	    {	        registryManager = RegistryManager.CreateFromConnectionString(iotHubConnectionString);	        var queryResult = registryManager.CreateQuery("SELECT * FROM devices");	        while (queryResult.HasMoreResults)	        {	            var page = await queryResult.GetNextAsTwinAsync();	            foreach (var twin in page)	            {	                Console.WriteLine("The last activity time of the device {0} is {1}", twin.DeviceId, twin.LastActivityTime);	            }	        }		    }	</code></pre>		<p>You should read about the twins (IoT hub) and the standard built in properties associated to them. <a href="https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-device-twins" rel="nofollow noreferrer">Here</a> is a good article about it.</p>	"
51685905,90368640,51694836,3,0,Mon Aug 06 08:57:00 EDT 2018,4761409,"One more thing my solution was using an old nuget package of Devices.Shared. Once i updated it worked successfully."
51685905,90353372,51694836,3,0,Sun Aug 05 16:07:00 EDT 2018,4761409,"Thank you, this helped me lot. I was trying .GetTwinAsync(deviceId); But that was returning null for last activity time."
