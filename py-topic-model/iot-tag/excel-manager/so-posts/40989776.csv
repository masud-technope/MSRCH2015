thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
40989776,40989776,null,1,1,Tue Dec 06 07:13:00 EST 2016,4805465,"<h1>I'm trying to build a sample Azure IoT Gateway SDK project with CMake 3.71 utility for Visual Studio 2015 on Windows 10 platform. When I tried to build the project both in VS2015 Command Line and CMake GUI, respectively, I got the following error log:</h1>		<pre><code>Determining if the _M_AMD64 exist failed with the following output:	Change Dir: C:/Users/nanos/Documents/GitHub/project/azure-iot-gateway-sdk/build/CMakeFiles/CMakeTmp		Run Build Command:"C:/Program Files (x86)/MSBuild/14.0/bin/MSBuild.exe" "cmTC_23e97.vcxproj" "/p:Configuration=Debug" "/p:VisualStudioVersion=14.0"	Microsoft (R) Build Engine version 14.0.25420.1		Copyright (C) Microsoft Corporation. All rights reserved.				Build started 12/6/2016 1:53:03 AM.		Project "C:\Users\nanos\Documents\GitHub\project\azure-iot-gateway-sdk\build\CMakeFiles\CMakeTmp\cmTC_23e97.vcxproj" on node 1 (default targets).		PrepareForBuild:		  Creating directory "cmTC_23e97.dir\Debug\".		  Creating directory "C:\Users\nanos\Documents\GitHub\project\azure-iot-gateway-sdk\build\CMakeFiles\CMakeTmp\Debug\".		  Creating directory "cmTC_23e97.dir\Debug\cmTC_23e97.tlog\".		InitializeBuildStatus:		  Creating "cmTC_23e97.dir\Debug\cmTC_23e97.tlog\unsuccessfulbuild" because "AlwaysCreate" was specified.		ClCompile:		  C:\Program Files (x86)\Microsoft Visual Studio 14.0\VC\bin\CL.exe /c /Zi /W3 /WX- /Od /Ob0 /Oy- /D WIN32 /D _WINDOWS /D _DEBUG /D "CMAKE_INTDIR=\"Debug\"" /D _MBCS /Gm- /RTC1 /MDd /GS /fp:precise /Zc:wchar_t /Zc:forScope /Zc:inline /Fo"cmTC_23e97.dir\Debug\\" /Fd"cmTC_23e97.dir\Debug\vc140.pdb" /Gd /TC /analyze- /errorReport:queue "C:\Users\nanos\Documents\GitHub\project\azure-iot-gateway-sdk\build\CMakeFiles\CMakeTmp\CheckSymbolExists.c"		  Microsoft (R) C/C++ Optimizing Compiler Version 19.00.24215.1 for x86		  Copyright (C) Microsoft Corporation.  All rights reserved.				  cl /c /Zi /W3 /WX- /Od /Ob0 /Oy- /D WIN32 /D _WINDOWS /D _DEBUG /D "CMAKE_INTDIR=\"Debug\"" /D _MBCS /Gm- /RTC1 /MDd /GS /fp:precise /Zc:wchar_t /Zc:forScope /Zc:inline /Fo"cmTC_23e97.dir\Debug\\" /Fd"cmTC_23e97.dir\Debug\vc140.pdb" /Gd /TC /analyze- /errorReport:queue "C:\Users\nanos\Documents\GitHub\project\azure-iot-gateway-sdk\build\CMakeFiles\CMakeTmp\CheckSymbolExists.c"				  CheckSymbolExists.c		C:\Users\nanos\Documents\GitHub\project\azure-iot-gateway-sdk\build\CMakeFiles\CMakeTmp\CheckSymbolExists.c(7): error C2065: '_M_AMD64': undeclared identifier [C:\Users\nanos\Documents\GitHub\project\azure-iot-gateway-sdk\build\CMakeFiles\CMakeTmp\cmTC_23e97.vcxproj]		Done Building Project "C:\Users\nanos\Documents\GitHub\project\azure-iot-gateway-sdk\build\CMakeFiles\CMakeTmp\cmTC_23e97.vcxproj" (default targets) -- FAILED.				Build FAILED.				"C:\Users\nanos\Documents\GitHub\project\azure-iot-gateway-sdk\build\CMakeFiles\CMakeTmp\cmTC_23e97.vcxproj" (default target) (1) -&gt;		(ClCompile target) -&gt; 		  C:\Users\nanos\Documents\GitHub\project\azure-iot-gateway-sdk\build\CMakeFiles\CMakeTmp\CheckSymbolExists.c(7): error C2065: '_M_AMD64': undeclared identifier [C:\Users\nanos\Documents\GitHub\project\azure-iot-gateway-sdk\build\CMakeFiles\CMakeTmp\cmTC_23e97.vcxproj]				    0 Warning(s)		    1 Error(s)				Time Elapsed 00:00:00.65			File C:/Users/nanos/Documents/GitHub/project/azure-iot-gateway-sdk/build/CMakeFiles/CMakeTmp/CheckSymbolExists.c:	/* */		int main(int argc, char** argv)	{	  (void)argv;	#ifndef _M_AMD64	  return ((int*)(&amp;_M_AMD64))[argc];	#else	  (void)argc;	  return 0;	#endif	}	</code></pre>		<p>=========================================================================</p>		<p><a href="https://i.stack.imgur.com/rzTNN.png" rel="nofollow noreferrer">Output from the CMake GUI here</a></p>		<p>Can someone tell me what I'm doing wrong or guide me? I have spent significant amount of hours trying to figure out how to solve the issue. I have extensively searched for solutions online, but to no success.</p>		<p>Thanks in advance</p>	"
40989776,69231419,40989776,3,0,Wed Dec 07 07:48:00 EST 2016,6601582,"Which tutorial did you follow?"
40989776,69235738,40989776,3,0,Wed Dec 07 09:50:00 EST 2016,6601582,"What about printed content in command window. Have you saw **"100% tests passed, 0 tests failed out of 16"** after the build completed?"
40989776,69238241,40989776,3,0,Wed Dec 07 10:51:00 EST 2016,4805465,"The build in my situation when ran on the command window is incomplete and terminated with errors as recorded in the log file. In other words, the tests failed : -- Looking for InitializeConditionVariable - found	-- Performing Test NN_HAVE_GCC_ATOMIC_BUILTINS	-- Performing Test NN_HAVE_GCC_ATOMIC_BUILTINS - Failed	CMake Warning at CMakeLists.txt:246 (message):"
40989776,69233258,40989776,3,0,Wed Dec 07 08:47:00 EST 2016,4805465,"Thanks, Rita. I used the following tutorial as my guide: https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-windows-gateway-sdk-simulated-device"
40989776,69282559,40989776,3,0,Thu Dec 08 10:52:00 EST 2016,4805465,"Thanks for the observation. Do you mean I should clone the repo "/azure-iot-gateway-sdk/" into a local directory that is on the root of C:\ ? Example: C:\project\azure-iot-gateway-sdk. Right?"
40989776,41033517,40989776,2,0,Thu Dec 08 06:54:00 EST 2016,6601582,"<p>It seems to be related with this <a href="https://github.com/Azure/azure-iot-gateway-sdk/blob/master/doc/devbox_setup.md" rel="nofollow noreferrer">note</a>:</p>		<blockquote>	  <p>Note: Make sure to clone the repo into a directory heirachy with less	  than 20 characters (if the path is prefix\azure-iot-gateway-sdk,	  prefix must be less than 20 characters). Windows has limitations on	  the length of file names and placing the repo in a hierarchy deeper	  than 20 characters will cause the build to fail. Our build.cmd script	  throws an error if it would eventually hit this failure, but one can	  hit this when manually building the project with cmake.</p>	</blockquote>		<p>I kill the "project" in the directory(...Documents/GitHub/project/azure-iot-gateway-sdk/...), then it works.</p>		<p>So, you need shorten the length of the directory that you clone the repo into.</p>	"
40989776,69282332,41033517,3,0,Thu Dec 08 10:46:00 EST 2016,4805465,"Thanks for the observation. Do you mean I should clone the repo "/azure-iot-gateway-sdk/" into a local directory that is on the root of C:\ ? Example: C:\project\azure-iot-gateway-sdk. Right?"
40989776,69365087,41033517,3,0,Sat Dec 10 19:30:00 EST 2016,4805465,"Thanks, Rita. Your idea worked for me"
40989776,69365119,41033517,3,0,Sat Dec 10 19:32:00 EST 2016,4805465,"Another issue is in running the build IoT solution. I have the following errors: failed to open the connection with CBS and AMQP transport failed to establish connection with the service, respectively. Please did you try to run the solution?"
40989776,69396991,41033517,3,0,Mon Dec 12 07:52:00 EST 2016,6601582,"@KKUser I ran the solution and it worked for me. You may has some mistake with the JSON config file. You can reference this [issue](https://github.com/Azure/azure-iot-gateway-sdk/issues/68)."
40989776,69311315,41033517,3,0,Fri Dec 09 01:57:00 EST 2016,6601582,"@KKUser  Feel free to try to put the repo into  "C:\project\azure-iot-gateway-sdk". But my point is to keep store path of the repo short enough and your "C:\Users\nanos\Documents\GitHub\project\" maybe too long for it. The directory don't have to be the root of C:\."
