thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
56608140,56608140,null,1,0,Sat Jun 15 07:02:00 EDT 2019,1582709,"<p>I have an azure IoT hub with 10 IoT devices on it. For some strange reason, all devices keep getting offline. After some hours(or shorter) being connected, they suddenly get disconnected. When a device is manually restarted it starts again sending data and things seem to be solved, but the device quickly gets disconnected again:</p>		<pre><code>Error: Time:Fri Jun 14 11:50:35 2019 File:/usr/sdk/src/c/iothub_client/src/iothubtransport_mqtt_common.c Func:InitializeConnection Line:2230 mqtt_client timed out waiting for CONNACK	Error: Time:Fri Jun 14 11:50:35 2019 File:/usr/sdk/src/c/iothub_client/src/iothubtransport_mqtt_common.c Func:InitializeConnection Line:2230 mqtt_client timed out waiting for CONNACK	Error: Time:Fri Jun 14 11:50:35 2019 File:/usr/sdk/src/c/iothub_client/src/iothubtransport_mqtt_common.c Func:InitializeConnection Line:2230 mqtt_client timed out waiting for CONNACK	Error: Time:Fri Jun 14 11:50:35 2019 File:/usr/sdk/src/c/iothub_client/src/iothubtransport_mqtt_common.c Func:InitializeConnection Line:2230 mqtt_client timed out waiting for CONNACK	</code></pre>		<p>Because the devices are spread over physical different locations I assume it cannot be an internet connection problem. Even my <a href="https://docs.microsoft.com/en-us/azure/iot-hub/quickstart-send-telemetry-node" rel="nofollow noreferrer">device simulator in NodeJS</a> running at home is disconnected after an hour or so.</p>		<p>The <strong>IoT hub</strong> is a <strong>B1</strong> with <strong>2 hub units</strong> configured.	According to the <a href="https://azure.microsoft.com/en-us/pricing/details/iot-hub/" rel="nofollow noreferrer">IoT specs</a> for B1 it should be able to handle <strong>400.000 messages per day</strong> with a max size of 4KB each. Since the messages are less than a 1 KB and are <strong>only sent every 10 minutes</strong>, the message count must be far below 2 times 400.000. </p>		<p>Does anyone have an idea what could be the problem here? </p>		<p><strong>Am I correct in my assumption that other Azure resources (e.g. the Database, Web App or Azure Function that are running as well) cannot overconsume CPU/memory such that the IoT hub gets throttled?</strong></p>		<p>Extra details: The devices on the IoT hub use MQTT to send data. In order to read data from the IoT hub an Azure function is used (no errors are visible here).</p>	"
56608140,99849952,56608140,3,0,Mon Jun 17 22:20:00 EDT 2019,2522782,"Looking at your output log with the very rapid succession of CONNACK timeouts I would suspect you are using an older version of the C SDK. There was a bug in that area that has been addressed whereupon during reconnect the SDK was not waiting the specified 30 seconds to reconnect. Not related to your issue but, if you are running an older version, I recommend that you acquire a later version."
56608140,56614117,56608140,2,1,Sat Jun 15 20:57:00 EDT 2019,11621070,"<p>it seems to be a general problem because I experienced exactly the same issue with my 50 devices. It started on Friday. My IoTHub is in Western Europe. I thought my devices are the problem but with different tests I found out that it must be a problem of the servicing endpoint. </p>		<p>It seems that the problem is fixed because my devices work like always since the beginning of the day. </p>	"
56608140,99845574,56614117,3,0,Mon Jun 17 18:54:00 EDT 2019,1582709,"Microsoft just confirmed that they were having some issues in their infrastructure, and they fixed it during the weekend. Damn, this one took some time to figure out..."
