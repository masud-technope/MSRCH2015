thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
41820277,41820277,null,1,1,Tue Jan 24 04:55:00 EST 2017,3832707,"<p><strong>My Query</strong></p>		<p>I am having issues on receiving data continuously from IoT Hub. </p>		<p>I have used <a href="https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-getstarted" rel="nofollow noreferrer">iot-hub-csharp-csharp-getstarted</a> as reference to create my ASPNet MVC app</p>		<p>Below is the function to receive data from IoT Hub</p>		<pre><code>private static async Task ReceiveMessagesFromDeviceAsync(string partition, CancellationToken ct)	    {	        var eventHubReceiver = eventHubClient.GetDefaultConsumerGroup().CreateReceiver(partition, DateTime.UtcNow);	        while (true)	        {	            if (ct.IsCancellationRequested) break;	            EventData eventData = await eventHubReceiver.ReceiveAsync();	            if (eventData == null) continue;		            string data = Encoding.UTF8.GetString(eventData.GetBytes());		            //Console.WriteLine("Message received. Partition: {0} Data: '{1}'", partition, data);		        }	    }	</code></pre>		<p>The value is getting received in <em>var</em>  <strong><em>string data</em></strong>	But it comes out of the loop after some time (<em>whereas in the Console app which sends data to IoT hub, it keeps continuously sending data</em> )</p>		<p>The above function is called via the below one</p>		<pre><code>private void SetHubs()	        {	            eventHubClient = EventHubClient.CreateFromConnectionString(connectionString, iotHubD2cEndpoint);	            var d2cPartitions = eventHubClient.GetRuntimeInformation().PartitionIds;	            CancellationTokenSource cts = new CancellationTokenSource();		            var tasks = new List&lt;Task&gt;();	            foreach (string partition in d2cPartitions)	            {	                tasks.Add(ReceiveMessagesFromDeviceAsync(partition, cts.Token));	            }	            //Task.WaitAll(tasks.ToArray());			        }	</code></pre>		<p><strong>My problem</strong></p>		<p>So in the receiving MVC app (using the above method <em>ReceiveMessagesFromDeviceAsync</em>, it comes out of the loop  (though it is inside while loop  ==><em>while(true)</em>)	Only some 50 - 70 message are received after which it exists the while loop,	What is that I am missing here? </p>	"
41820277,70957063,41820277,3,0,Fri Jan 27 05:26:00 EST 2017,3832707,"Would there be any settings like partition to be done on the IoT Hub side ?	The same code works for me too in a Console app.	Can you please send me your application you have tried with this code  so that I can download - in case some other settings done right for me."
41820277,71039346,41820277,3,0,Mon Jan 30 05:22:00 EST 2017,3832707,"I still have issues executing my code. Can you please attach your working code here, that would really be helping me.	 Any idea why is it returns back to the caller and not continuously looping inside while(true) to call ReceiveAsync and receive data from IOT Hub."
