thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
50190699,50190699,null,1,0,Sat May 05 14:48:00 EDT 2018,4776994,"<p>Fairly new to analytics and looking for some guidance on how to store data in a MongoDB to be analysed in the future.</p>		<p>An example would be a temperature sensor that reports once every 10 minutes. After 1 year, we would like to run a report that shows the temperature over time.</p>		<p>Would a new document be created every time a new value is reported? </p>		<pre><code>{	  id: 'xyz',	  date : "Sat May 05 2018 00:00:00",	  value: 20.0,	  unit: 'Celsius'	},		{	  id: 'xyz',	  date : "Sat May 05 2018 00:10:00",	  value: 19.0,	  unit: 'Celsius'	}	</code></pre>		<p>Or would one document get updated with the new information? </p>		<pre><code>{	  _id: 'xyz',	  values:[	    {	      date : "Sat May 05 2018 00:00:00",	      value: 20.0,	      unit: 'Celsius'	    },	    {	      date : "Sat May 05 2018 00:10:00",	      value: 19.0,	      unit: 'Celsius'	    }	  ]	}	</code></pre>		<p><a href="https://www.mongodb.com/blog/post/using-mongodb-for-real-time-analytics" rel="nofollow noreferrer">upset and $inc</a> look useful. But seem to overwrite the old values.</p>	"
50190699,87403222,50190699,3,1,Sat May 05 19:10:00 EDT 2018,6281755,"I would advise a new document for every record. If you keep appending to the same document, then you might hit the MongoDB Document limit (16MB) - https://docs.mongodb.com/manual/reference/limits/. You also need to consider your granularity for old data. Do you really need 10 minute granularity for data 9 months ago? Or is hourly ok? And for reference - if you wanted to append to a list, then you can use the `$push` operator."
50190699,87416573,50190699,3,0,Sun May 06 13:07:00 EDT 2018,4776994,"Thanks for the insight. Just what I was looking for."
50190699,87416604,50190699,3,0,Sun May 06 13:09:00 EDT 2018,4776994,"The update every 10 minutes is just an example. For some devices, updates will come in at random based on user interaction (like turning a light on and off)."
50190699,93041751,50190699,3,1,Tue Oct 30 19:34:00 EDT 2018,6879709,"If the data is recorded sporadically consider using a size-based bucketing strategy.  By issuing upserts you can control how many items in the array to include per document.  In my example in this document: https://www.mongodb.com/collateral/time-series-best-practices.  I create a new document every 200 entries or 1 day whichever comes first."
50190699,93708751,50190699,3,0,Wed Nov 21 17:06:00 EST 2018,4776994,"The time series best practices document was extremely helpful. Thank you @RobertWalters !"
