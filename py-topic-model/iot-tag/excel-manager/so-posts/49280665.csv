thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
49280665,49280665,null,1,0,Wed Mar 14 14:43:00 EDT 2018,1930814,"<p>I am trying to run the example in <a href="https://docs.aws.amazon.com/iot/latest/developerguide/iot-embedded-c-sdk.html" rel="nofollow noreferrer">this tutorial</a> from AWS IoT (AWS IoT Embedded C SDK). </p>		<p>My <code>aws_iot_config.h</code> file has the following configuration:</p>		<pre><code>#define AWS_IOT_MQTT_HOST              "XXXXXXX.iot.us-east-2.amazonaws.com" ///&lt; Customer specific MQTT HOST. The same will be used for Thing Shadow	#define AWS_IOT_MQTT_PORT              8883 ///&lt; default port for MQTT/S	#define AWS_IOT_MQTT_CLIENT_ID         "c-sdk-client-id" ///&lt; MQTT client ID should be unique for every device	#define AWS_IOT_MY_THING_NAME          "SM1" ///&lt; Thing Name of the Shadow this device is associated with	#define AWS_IOT_ROOT_CA_FILENAME       "iotRootCA.pem" ///&lt; Root CA file name	#define AWS_IOT_CERTIFICATE_FILENAME   "deviceCert.crt" ///&lt; device signed certificate file name	#define AWS_IOT_PRIVATE_KEY_FILENAME   "deviceCert.key" ///&lt; Device private key filename	</code></pre>		<p>This is how my policies are:</p>		<pre><code>{	  "Version": "2012-10-17",	  "Statement": [	    {	      "Effect": "Allow",	      "Action": "iot:Connect",	      "Resource": "*"	    },	    {	      "Effect": "Allow",	      "Action": "iot:Publish",	      "Resource": "arn:aws:iot:us-east-2:338639570104:topic/sm1"	    },	    {	      "Effect": "Allow",	      "Action": "iot:Subscribe",	      "Resource": "arn:aws:iot:us-east-2:338639570104:topic/sm1"	    }	  ]	}	</code></pre>		<p>When I run the <code>subscribe_publish_sample</code> example, I am getting the following error:</p>		<blockquote>	  <p>DEBUG:   iot_tls_connect L#236  ok<br>	      [ Protocol is TLSv1.2 ]<br>	      [ Ciphersuite is TLS-ECDHE-ECDSA-WITH-AES-256-GCM-SHA384 ]  </p>	  	  <p>DEBUG:   iot_tls_connect L#238     [ Record expansion is 29 ]  </p>	  	  <p>DEBUG:   iot_tls_connect L#243   . Verifying peer X.509 certificate...<br>	  DEBUG:   iot_tls_connect L#252  ok</p>	  	  <p>DEBUG:   iot_tls_connect L#262   . Peer certificate information    ...</p>	  	  <p>DEBUG:   iot_tls_connect L#264       cert. version     : 3<br>	        serial number     : 3C:75:FE:30:01:DD:A3:B9:EF:72:DC:F6:7A:5C:A2:54<br>	        issuer name       : C=US, O=Symantec Corporation, OU=Symantec Trust Network, CN=Symantec Class 3 ECC 256 bit SSL CA - G2	        subject name      : C=US, ST=Washington, L=Seattle, O=Amazon.com, Inc., CN=*.iot.us-east-2.amazonaws.com<br>	        issued  on        : 2017-10-12 00:00:00<br>	        expires on        : 2018-10-13 23:59:59<br>	        signed using      : ECDSA with SHA256<br>	        EC key size       : 256 bits<br>	        basic constraints : CA=false<br>	        subject alt name  : iot.us-east-2.amazonaws.com, *.iot.us-east-2.amazonaws.com<br>	        key usage         : Digital Signature<br>	        ext key usage     : TLS Web Server Authentication, TLS Web Client Authentication  </p>	  	  <p>Subscribing...<br>	  ERROR: main L#206 Error subscribing : -28 </p>	</blockquote>		<p>Can anyone show me what is happening? Am I missing something?</p>	"
49280665,49370015,49280665,2,0,Mon Mar 19 18:29:00 EDT 2018,1930814,"<p>As I did not find out a good and complete tutorial related to process of sending data from a device to AWS IoT, including all the steps needed, I tried changing the policy I was using to:</p>		<pre><code>{	  "Effect": "Allow",	  "Action": "iot:*",	  "Resource": "*"	}	</code></pre>		<p>Though this wildcard on <code>Resource</code> apparently is not so good, it was the way I used, since the other policies were not working.</p>	"
