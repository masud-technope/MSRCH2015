thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
54828693,54828693,null,1,0,Fri Feb 22 13:57:00 EST 2019,6870889,"<p>I am making a control project which has scheduling feature. I am using rasp-pi 3(device) and use php and sql for turning on off the electrical loads. I created a php page called script.php which always refresh every 10 seconds.</p>		<p>inside of that php page, has a function:</p>		<pre><code>function weekdaychek($startingTime, $endingTime, $pinNumber, $idOfroom){		        $date_now = new DateTime();	        $date1 = new DateTime($startingTime);	        $date2 = new DateTime($endingTime);		        //SET GPIO INTO OUTPUT	        system("gpio -g mode ".$pinNumber." out");		         if ($date_now &gt; $date1){	            $dat1 = true;		         } else{	            $dat1 = false;	         }		         if ($date_now &lt; $date1) {	            $dat2 = true;		         } else{	            $dat2 = false;	         }			         if ($dat1 == true &amp;&amp; $dat2 == true) {	            //SET GPIO INTO HIGH STATE OR ON	            system("gpio -g write ".$pinNumber." 1");	            life($idOfroom);		         } else {	            //SET GPIO INTO LOW STATE OR OFF	            system("gpio -g write ".$pinNumber." 0");	            dead($idOfroom);	         }	    }	</code></pre>		<p>The problem is that every refresh the light bulb(Sample electrical load) will blink, it's because the php scripts loaded all the data from the database. The blink thing only works when there is 2 or more schedule in a same pin. It works fine if there is one schedule for specific pin of the rasp-pi. </p>		<p>for example	LIGHT</p>		<p><strong>Pin Number:</strong> 2</p>		<p><strong>Scheduled Time:</strong></p>		<p>2 schedules in pin 2</p>		<p><strong>First:</strong></p>		<p><em>Start Time:</em> 2:30</p>		<p><em>End Time:</em> 3:00</p>		<p><strong>Second:</strong></p>		<p><em>Start Time:</em> 1:00;</p>		<p><em>End Time:</em> 1:30;</p>		<p>Assume the time is 2:40,	Since my query is DESCENDING	the first data that will be check of the if else statement is the <strong>First</strong> schedule. Since it is 2:40 we expect that the <strong>First</strong> schedule is now executing(ON).</p>		<p>When the page is refreshed the data from the database will be loaded. The <strong>First</strong> schedule which is On will be the first then the <strong>Second</strong> schedule comes last. Since the <strong>First</strong> schedule comes first it turns On the Light and lastly Off the light resulting of blink effect every refresh.</p>		<p>Can anyone find a way to solve this?? I am having a hard time solving this problem for 3 weeks now. It eats my time and have many other things to study.</p>		<p>By the way this is my query:</p>		<pre><code>$queryscripts = mysqli_query($link,	         "SELECT * FROM schedule 	         JOIN rooms 	         ON schedule.Rooms_idRooms = rooms.idRooms 	         ORDER BY schedule.startSched DESC") 	         or die("Please Try again later!");	</code></pre>	"
