thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
39872627,39872627,null,1,1,Wed Oct 05 11:22:00 EDT 2016,6925329,"<p>I am new to visual studio and developing universal windows applications. My program throws an exception when I click a UI button that should display location information on click. It is a UWP. The location access is turned on from the package manifest.	The code looks like this:</p>		<pre><code>private async void myButton_Click(object sender, RoutedEventArgs e)	    {		        try	        {	            var geoLocator = new Geolocator();	            geoLocator.DesiredAccuracy = PositionAccuracy.High;	            Geoposition positionInfo = await geoLocator.GetGeopositionAsync();	            string latitude = "Latitude: " + positionInfo.Coordinate.Point.Position.Latitude.ToString();	            string longitude = "Longitude: " + positionInfo.Coordinate.Point.Position.Longitude.ToString();	        }	        catch (Exception ex)	        {		            Debug.WriteLine(ex.Message);	            Debug.WriteLine(ex.StackTrace);	        }			    }    	</code></pre>		<p>The exception stacktrace is as below:</p>		<blockquote>	  <p>Exception thrown: 'System.Exception' in mscorlib.ni.dll	  Exception from HRESULT: 0x80072EE7	     at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)	     at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)	     at System.Runtime.CompilerServices.TaskAwaiter<code>1.GetResult()	     at HelloLocation.MainPage.&lt;getBtn_Click&gt;d__1.MoveNext()	  Exception thrown: 'System.Exception' in mscorlib.ni.dll	  Exception from HRESULT: 0x80072EE7	     at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)	     at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)	     at System.Runtime.CompilerServices.TaskAwaiter</code>1.GetResult()	     at HelloLocation.MainPage.d__1.MoveNext()	  Exception thrown: 'System.Exception' in mscorlib.ni.dll	  Exception from HRESULT: 0x80072EE7	     at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)	     at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)	     at System.Runtime.CompilerServices.TaskAwaiter<code>1.GetResult()	     at HelloLocation.MainPage.&lt;getBtn_Click&gt;d__1.MoveNext()	  Exception thrown: 'System.Exception' in mscorlib.ni.dll	  Exception from HRESULT: 0x80072EE7	     at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)	     at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)	     at System.Runtime.CompilerServices.TaskAwaiter</code>1.GetResult()	     at HelloLocation.MainPage.d__1.MoveNext()	  The program '[3032] hellolocation.exe' has exited with code -1 (0xffffffff).</p>	</blockquote>	"
39872627,67032255,39872627,3,0,Wed Oct 05 11:32:00 EDT 2016,2921426,"Have you tried calling the method synchronously? Instead of using await x.GetGeoPositionAsync(), use: y = x.GetGeoPosition[Async]()[.Result]; See if that changes something."
39872627,67032527,39872627,3,0,Wed Oct 05 11:40:00 EDT 2016,6925329,"@Beatsleigher I tried using the exact same code you suggested, but it throws an error :	Error	CS1061	'Geolocator' does not contain a definition for 'GetGeoPosition' and no extension method 'GetGeoPosition' accepting a first argument of type 'Geolocator' could be found (are you missing a using directive or an assembly reference?)"
39872627,39873375,39872627,2,0,Wed Oct 05 12:00:00 EDT 2016,2410379,"<p>You need to first request access, and then use the result from this request to determine if you can attempt to use the <code>GetGeopositionAsync</code> call.</p>		<p>Details <a href="https://msdn.microsoft.com/en-us/library/windows/apps/br225537.aspx?f=255&amp;MSPPError=-2147217396" rel="nofollow">here</a>:</p>		<pre><code>using Windows.Devices.Geolocation;	...	var accessStatus = await Geolocator.RequestAccessAsync();	switch (accessStatus) {	 case GeolocationAccessStatus.Allowed:		  // If DesiredAccuracy or DesiredAccuracyInMeters are not set (or value is 0), DesiredAccuracy.Default is used.	  Geolocator geolocator = new Geolocator { DesiredAccuracyInMeters = _desireAccuracyInMetersValue };		  // Subscribe to StatusChanged event to get updates of location status changes	  _geolocator.StatusChanged += OnStatusChanged;		  try {                        	   // Carry out the operation	   Geoposition pos = await geolocator.GetGeopositionAsync();	  } catch (Exception ex) {	   // handle the exception (notify user, etc.)	  }	  break;		 case GeolocationAccessStatus.Denied:	  // handle access denied case here	  break;		 case GeolocationAccessStatus.Unspecified:	  // handle unspecified error case here	  break;	}	</code></pre>	"
39872627,67034248,39873375,3,0,Wed Oct 05 12:23:00 EDT 2016,6925329,"Thankyou! I tried this way but it still throws exception as follows:    Exception thrown: 'System.Exception' in mscorlib.ni.dll	Exception from HRESULT: 0x80072EE7	   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)	   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)	   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()	   at HelloLocation.MainPage.<getBtn_Click>d__1.MoveNext()	The program '[3736] hellolocation.exe' has exited with code -1 (0xffffffff)."
39872627,67034276,39873375,3,0,Wed Oct 05 12:24:00 EDT 2016,2410379,"Does your application manifest have the geolocation or location checked as capabilities?"
39872627,67034328,39873375,3,0,Wed Oct 05 12:25:00 EDT 2016,6925329,"Yes location is enabled in the manifest file."
39872627,67034389,39873375,3,0,Wed Oct 05 12:26:00 EDT 2016,2410379,"Does the `accessStatus` come back as `GeolocationAccessStatus.Allowed` or does it throw on that request?"
39872627,67034775,39873375,3,0,Wed Oct 05 12:36:00 EDT 2016,6925329,"The `accessStatus` is allowed. It throws on the `await`."
39872627,67034881,39873375,3,0,Wed Oct 05 12:38:00 EDT 2016,2410379,"Go to activation for GNSS Service from network settings get current location and updates accurately :: http://stackoverflow.com/q/33391228/2410379"
39872627,67035776,39873375,3,0,Wed Oct 05 12:59:00 EDT 2016,6925329,"I did not exactly follow the thread. Can you please tell me where I can activate the GNSS Service or where is the network settings? Thank you for your help:)"
39872627,67035851,39873375,3,0,Wed Oct 05 13:01:00 EDT 2016,2410379,"http://www.howtogeek.com/221869/how-to-disable-or-configure-location-tracking-in-windows-10/"
39872627,67035867,39873375,3,0,Wed Oct 05 13:01:00 EDT 2016,2410379,"https://privacy.microsoft.com/en-US/windows-10-location-and-privacy"
39872627,67035883,39873375,3,0,Wed Oct 05 13:01:00 EDT 2016,2410379,"https://bitbucket.org/petrsimon/geolocationtcp/issues/9/windows-10-gnss-status-not-properly"
39872627,67036093,39873375,3,0,Wed Oct 05 13:06:00 EDT 2016,6925329,"Oh.. The location is turned on for my PC and I can see that my application has location enabled. I did not understand that you meant this earlier.Sorry! No luck yet:( I am trying on my PC now, so maybe I will switch it to my phone and try."
39872627,67050676,39873375,3,0,Wed Oct 05 19:10:00 EDT 2016,6925329,"It works now. :) I had been working with a visual studio running on a virtual machine earlier. I guess it doesn't have the required permission to access location even though location was enabled in both real (my PC) and virtual machine. I used the same code with another laptop directly without a virtual machine and it works perfectly well ! Thank you for all your help."
39872627,39881911,39872627,2,0,Wed Oct 05 19:12:00 EDT 2016,6925329,"<p>It works now. :) I had been working with a visual studio running on a virtual machine earlier. I guess it doesn't have the required permission to access location even though location was enabled in both real (my PC) and virtual machine. 	I used the same code with another laptop directly without a virtual machine and it works perfectly well ! </p>	"
