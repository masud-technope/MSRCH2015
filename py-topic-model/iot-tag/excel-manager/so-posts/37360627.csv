thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
37360627,37360627,null,1,1,Sat May 21 08:31:00 EDT 2016,4527079,"<p>I am trying to use Microsoft Azure IOT Hub to demonstrate connecting my device to IOT Hub and send messages using mqtt protocol.	I have an account and created device and SAS with TTL as required. I am using java client SDK given by microsoft azure to connect but my connection is not authorized.	I have followed all the steps as given in the below URL:	<a href="https://azure.microsoft.com/en-us/documentation/articles/iot-hub-mqtt-support/" rel="nofollow">https://azure.microsoft.com/en-us/documentation/articles/iot-hub-mqtt-support/</a>	Please help me in this regards. My logs are below:</p>		<p>Logs:</p>		<pre><code>MqttIotHubConnection.open() connectionOptions=	============== Connection options ==============	CleanSession : false	SocketFactory : null	MqttVersion : 4	KeepAliveInterval : 20	ConTimeout : 30	UserName : PCSIOTHub.azure-devices.net/MQ...	SSLProperties : null	WillDestination : null			Exception in thread "main" java.io.IOException: Error initializing MQTT connection:Not authorized to connect	at com.microsoft.azure.iothub.transport.mqtt.MqttIotHubConnection.open(MqttIotHubConnection.java:142)	at com.microsoft.azure.iothub.transport.mqtt.MqttTransport.open(MqttTransport.java:83)	at com.microsoft.azure.iothub.DeviceClient.open(DeviceClient.java:163)	at samples.com.microsoft.azure.iothub.SendReceive.main(SendReceive.java:210)	</code></pre>	"
37360627,37383518,37360627,2,1,Mon May 23 05:59:00 EDT 2016,50911,"<p>If you're using the Microsoft Java client for IoT Hub, you don't need to create the SAS token yourself, the SDK does it for you.</p>		<p>If you follow the example here, <a href="https://azure.microsoft.com/en-us/documentation/articles/iot-hub-java-java-getstarted/#create-a-simulated-device-app" rel="nofollow">https://azure.microsoft.com/en-us/documentation/articles/iot-hub-java-java-getstarted/#create-a-simulated-device-app</a>, all you need to do is replace:</p>		<pre><code>private static IotHubClientProtocol protocol = IotHubClientProtocol.AMQPS;	</code></pre>		<p>with:</p>		<pre><code>private static IotHubClientProtocol protocol = IotHubClientProtocol.MQTT;	</code></pre>		<p>and you will have a basic Java client that can communicate with IoT Hub over MQTT.</p>	"
37360627,37386990,37360627,2,1,Mon May 23 09:11:00 EDT 2016,4989676,"<p>As @DominicBetts said, you don't need to create the SAS token when using the IoTHub SDK for Java. More explaination for the security of IoTHub, please see the offical document <a href="https://azure.microsoft.com/en-us/documentation/articles/iot-hub-devguide/" rel="nofollow"><code>Azure IoT Hub developer guide</code></a>.</p>		<p>As reference as sample, you can refer to the <a href="https://github.com/Azure/azure-iot-sdks/blob/master/java/device/samples/send-event/src/main/java/samples/com/microsoft/azure/iothub/SendEvent.java" rel="nofollow">example</a> on GitHub to know how to send messages in the different protocols for Java.</p>	"
