thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
54586846,54586846,null,1,0,Fri Feb 08 06:07:00 EST 2019,8370670,"<p>I am currently using MQTT to exchange data between IoT device and server. Until now the size of data sent was very low (Around 2 MB). But now we want to send 20 MB of data (possibly increasing to 30 MB) to the server.</p>		<p>My question is what is the best way to send such huge amount of data from IoT devices to the server? I am thinking of using the same approach and continue to send 20 MB of data using MQTT protocol.</p>		<p>Right now the number of devices connected are very low (10 devices). But eventually this is expected to increase to about 1000 devices.</p>		<p>We are not using any cloud based solutions. I am using mosquitto MQTT broker for MQTT communication. If someone has already handled this situation please let me know what approach you finally took.</p>		<h1>Edit</h1>		<p>The IoT application is used to collect vehicle data. The IoT application collects few parameters from the vehicle every second (speed, acceleration, fuel etc) and stores the data until data reaches 20 Mb. This data is then sent to the server. This process repeats every engine cycle (Engine turned off to on).</p>	"
54586846,95970392,54586846,3,0,Fri Feb 08 06:20:00 EST 2019,841108,"What kind of device, what kind of IoT application? Please be specific and motivate your question and give some context. What is the actual data that is transmitted? How often? Please **[edit](https://stackoverflow.com/posts/54586846/edit) your question to improve it**"
54586846,95970507,54586846,3,0,Fri Feb 08 06:26:00 EST 2019,8370670,"@BasileStarynkevitch Thanks for your answer. I have edited the question and added some more information."
54586846,54586886,54586846,2,1,Fri Feb 08 06:11:00 EST 2019,841108,"<p>The main issue is the bandwidth of the network connection between IoT device and server. It is not the protocol or the library (MQTT) used for transmission. Even with a 1Gbit/second ethernet link (which is a luxury in IoT) between the device and the server you could need about 0.3 seconds to transmit 30Mbytes. And what matters is the frequency of the transmission: if you need to transmit 20 megabytes once a day, it is not the same as transmitting 20 megabytes every second.</p>		<p>And what should happen if the connection breaks during the transmission of that huge data?</p>		<p>You could decide to transmit several chunks of data. And code your IoT application so that only a single megabyte is transmitted at every message, and use several MQTT (or HTTP) requests to send all your 20 or 30 megabytes. You surely need to document such a design decision.</p>		<p>You could consider these 20 megabytes to be conceptually some "file" and use some file sharing applications (like <a href="https://rsync.samba.org/" rel="nofollow noreferrer"><code>rsync</code></a> or <a href="http://www.cis.upenn.edu/~bcpierce/unison/" rel="nofollow noreferrer"><code>unison</code></a> or even <a href="https://git-scm.com/" rel="nofollow noreferrer"><code>git</code></a> does on Linux; they usually send "differences" of content) and build above their protocol. In some cases, only a "difference" of content gets transmitted. You could even consider that huge data to fill some "database" running on the server (read more about <a href="https://en.wikipedia.org/wiki/Relational_database_management_system" rel="nofollow noreferrer">RDBMS</a>).</p>		<p>The ongoing (in 2019-2020) <a href="https://www.chariotproject.eu/" rel="nofollow noreferrer">CHARIOT</a> project has similar concerns (with colleagues Franck &amp; Yves, we have just written a few days ago - in February 2019 - some pages on them).</p>		<blockquote>	  <p>The IoT application collects few parameters from the vehicle every second (speed, acceleration, fuel etc) and stores the data until data reaches 20 Mb. </p>	</blockquote>		<p>Why such a threshold, and why base the transmission on capacity thresholds only? If I use my connected car rarely (only the week-end, because on office days I go to work by bus), you still probably want to get that data at least every week (even if I drive so little that a whole month is needed to fill these 20Mbytes).</p>	"
