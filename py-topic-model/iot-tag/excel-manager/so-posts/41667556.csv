thread_ID, Id, ParentId, PostType, Score, CreationDate, OwnerID, Body
41667556,41667556,null,1,0,Sun Jan 15 23:34:00 EST 2017,7420950,"<p>I'm building a home IoT device and I can't figure out a way of setting a static IP which would work on any network. I want to be able to ship this device to anyone having previously set a static IP and all they would have to do is connect to the internet and be good to go.</p>		<p>Any help is appreciated!</p>	"
41667556,70551332,41667556,3,0,Mon Jan 16 13:08:00 EST 2017,3122676,"If you can share the operating system of IoT device, it may open up more ideas."
41667556,70614748,41667556,3,0,Wed Jan 18 00:57:00 EST 2017,7420950,"@fossil The robot uses a raspberry pi (running raspbian)."
41667556,70614752,41667556,3,0,Wed Jan 18 00:58:00 EST 2017,7420950,"@hardillb I'll be running a server locally to monitor each robot so I thought I would set a static IP on each RPi and once delivered to the customer they'll simply have to get their RPi on their network and do some port forwarding. Then they would download the app and issue commands to the robot (I'm using their login information to know which RPi to control)."
41667556,70533205,41667556,3,3,Sun Jan 15 23:36:00 EST 2017,3745413,"That simply is not how IP works."
41667556,70549697,41667556,3,0,Mon Jan 16 12:22:00 EST 2017,504554,"Update the question to explain your usecase in more detail. Why do you think you need to static IP address? Will the device only connect out to somewhere or will things need to connect to the device?"
41667556,70614756,41667556,3,0,Wed Jan 18 00:58:00 EST 2017,7420950,"@Ron Maupin I have very limited experience with networking, I'm hacking my way through and I apologize for the confusing (which is why I'm here)"
41667556,70614790,41667556,3,0,Wed Jan 18 01:00:00 EST 2017,3745413,"Then you should probably ask your question on the correct SE site. [so] is for programming. [su] is for things like home networking."
41667556,70614935,41667556,3,0,Wed Jan 18 01:09:00 EST 2017,7420950,"@RonMaupin ok thanks"
41667556,41667703,41667556,2,0,Sun Jan 15 23:57:00 EST 2017,5230735,"<p>the gateway IP of home routers changes constantly. this is why there is <em>No-IP</em>, <em>DynDNS</em>,... and similar services . this is also a common working solution. your customers need a dynaemic DNS provider or a similar service. This is also a common solution for scurity cameras. Another possibility is that the RPi sends the information to a cloud or another storage outside of the network and the app has access to this cloud. however this could be problematic because of privacy...</p>		<p><a href="http://www.noip.com/support/knowledgebase/using-security-camera-systems-with-no-ip/" rel="nofollow noreferrer">http://www.noip.com/support/knowledgebase/using-security-camera-systems-with-no-ip/</a>	<a href="http://www.networkcameracritic.com/?p=124" rel="nofollow noreferrer">http://www.networkcameracritic.com/?p=124</a></p>		<p>the problem is that you want the <em>external</em> or <em>WAN</em> IP to be static like that of google or other big companies. This is very expensive and not every Internet Service Provider has this service. Another problem is that the IP of a smartphone on that the app runs also changes constantly.</p>		<p>Maybe the accepted answer in this link is useful <strong><a href="http://www.superuser.com/questions/778640/do-you-need-a-static-ip-address-to-setup-a-webserver" rel="nofollow noreferrer">http://www.superuser.com/questions/778640/do-you-need-a-static-ip-address-to-setup-a-webserver</a></strong></p>	"
41667556,70614810,41667703,3,0,Wed Jan 18 01:01:00 EST 2017,3745413,""_the gateway IP of home routers changes constantly._' Not usually. The gateway is the LAN side of a home router, and it almost never changes. The WAN address may change, but it is not the gateway address."
41667556,70533588,41667703,3,0,Mon Jan 16 00:08:00 EST 2017,7420950,"I was looking for a solution not involving 3rd party software but thank you for your answer, I'll consider that if all else fails"
41667556,81995615,41667703,3,0,Mon Nov 27 20:56:00 EST 2017,7420950,"Ended up going your route! Cheers"
41667556,41674824,41667556,2,0,Mon Jan 16 10:59:00 EST 2017,1870387,"<p>Why do you need a static IP? I assume you want to open ports on the device and then have users to connect to it.</p>		<p>If that is the case: <strong>Simply do not do it! Its a major security problem.</strong></p>		<p>Why?	Having all ports closed provides zero attack surface. If you open ports to the Internet, IoT device search engines will find this and try to attack it. And even if you protocol is secure today and even if users use secure passwords, how can you guarantee this in 5 years?</p>		<p>Instead open a connection from the device to a server, and let the users connect to the server. This allows central protection, monitoring (IDS) and security updates. </p>	"
41667556,70614874,41674824,3,0,Wed Jan 18 01:05:00 EST 2017,7420950,"Thank you for the advice and I completely agree! I have a server running locally which connects to all the RPis, the issue is that if the IP does change I would lose comms to that remote device. In other words is there a way to have my local server connect to all the remote devices?"
41667556,41709865,41667556,2,0,Wed Jan 18 01:16:00 EST 2017,3122676,"<p>Consider using Teredo(Miredo in OpenSource world). Following is an excerpt copied shamelessly from Wikipedia.</p>		<p>In computer networking, Teredo is a transition technology that gives full IPv6 connectivity for IPv6-capable hosts that are on the IPv4 Internet but have no native connection to an IPv6 network. Unlike similar protocols, it can perform its function even from behind network address translation (NAT) devices such as home routers.</p>		<p>You can let your customers to configure the robot like a normal IoT device. Once the device is up and running, it will automatically connect to relay server and get an IPv6 address. This IPv6 address can be static or dynamic, updated to your server without using any third party.</p>		<p>This will give you seamless bi-directional connectivity between your server and robot(s) without resorting to port forwarding. You may have to address the security concerns by restricting the access to IPv6 address using PKI infrastructure.</p>		<p>Checkout Miredo at <a href="https://www.remlab.net/miredo/" rel="nofollow noreferrer">https://www.remlab.net/miredo/</a>. You can even consider setting up your own Miredo server/relay.  </p>	"
41667556,70615200,41709865,3,0,Wed Jan 18 01:25:00 EST 2017,7420950,"Thank you so much, from the sound of it this looks like what I've been looking for (no third party). I'll look into it and keep you posted. Sending +karma your way!"
41667556,70615459,41709865,3,0,Wed Jan 18 01:41:00 EST 2017,3122676,"Have used it successfully in a project. Would be great if you can share your experience."
41667556,70703746,41709865,3,0,Fri Jan 20 03:50:00 EST 2017,7420950,"Will do! Thanks"
41667556,47519557,41667556,2,0,Mon Nov 27 20:48:00 EST 2017,7420950,"<p>Here is an update in case anyone is having the same issue. I ended up using node package <a href="https://www.npmjs.com/package/ip" rel="nofollow noreferrer">ip</a> to update each robot's ip in my database. Each client then pulls the ip from the DB to connect.</p>		<p>Here is a snippet of my code. The server is fired on <a href="https://www.raspberrypi.org/documentation/linux/usage/rc-local.md" rel="nofollow noreferrer">boot</a>.</p>		<p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">	<div class="snippet-code">	<pre class="snippet-code-js lang-js prettyprint-override"><code>var ip = require('ip');	var mongo = require('mongodb')	var MongoClient = mongo.MongoClient		var url = 'your_url'	var name = "example"	function updateIP() { // update ip if need be	  var my_ip = ip.address()	  console.log(my_ip)	  MongoClient.connect(url, function(err, db){	    console.log(err)	    var robots = db.collection('robots')	    robots.findAndModify(	       {name: name},	       [['name', 1]],	       {$set: {ip: my_ip}},	       {update: true})	  })	}</code></pre>	</div>	</div>	</p>	"
41667556,81995740,47519557,3,1,Mon Nov 27 21:00:00 EST 2017,3745413,"Of course that doesn't answer the question. You seem to have stumbled on an [X-Y Problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem), where the question was about a particular solution, rather than the solution to the real problem."
41667556,81996018,47519557,3,0,Mon Nov 27 21:09:00 EST 2017,7420950,"Found a workaround and I'm trying to help someone else. I'm obviously not an expert like you"
